(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[355,61,"authHandshakeUtils"],{"+6dQ":function(e,t,n){var i=n("28DW"),o=n("D2p8");t.a=e=>{o.c.resume(o.b),Object(i.a)("web.dismiss_account_switcher."+e)}},"+Der":function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l}));var i=n("QLqj"),o=n("kmwA");function r(e,t){return e.some(e=>e.id===t.id)}function a(e){const t=[];if(e){const n=72e5,i=Date.now()-n;for(const o of e)o.ts>=i&&("string"==typeof o.image_signature&&t.push(o.image_signature),"string"==typeof o.first_pin_image_signature&&t.push(o.first_pin_image_signature))}return t}function s(){return{plpImages:a(i.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin")||[]),blpImages:a(i.b.localStorage.getItem("visitedBoardLandingPagesBeforeLogin")||[])}}function c(e){return e.url.split("/").pop().replace(/(--.*|\.jpg)$/g,"")}function l(e,t){const n=o.a.settings.EU_COUNTRIES_2020_COOKIE_POLICY;return!n.includes(e)&&n.includes(t)?{allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1}:{}}},"/lhQ":function(e,t,n){t.a=e=>0===e.trim().length},"0Bqi":function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("SCuf"),o=n("Ye/N"),r=n("MKeS"),a=n("YI5+"),s=n("n6mq"),c=n("nKUr"),l=n.n(c);const d=Object(r.a)({resolved:{},chunkName:()=>"FullPageSignup",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e("FullPageSignup").then(n.bind(null,"CRJj")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return"CRJj"}});function u(e){return Object(c.jsx)(a.a,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>Object(c.jsx)(s.f,{display:"flex",justifyContent:"center",flex:"grow","data-test-id":"account-switcher-modal",children:Object(c.jsx)(d,{fallback:Object(c.jsx)(i.a,{}),container:e.container,email:e.email,isAccountSwitch:!0,hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,type:"login",signupSource:"login",customLoginTagline:e.customTaglineText||o.a._("Add account","Short text on the button that allows a user to log in to another Pinterest account","Short text on the button that allows a user to log in to another Pinterest account")})})})}},"0G5S":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}));const i=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(n){return console.error("Cannot access localStorage."),t}},o=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},r=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(n){console.error("Cannot access localStorage.")}}},"2y2F":function(e,t,n){function i(e){return"US"===e||"GB"===e||"UK"===e}function o(e){return"US"===e}function r(e){return"JP"===e}function a(e){return"GB"===e||"UK"===e}function s(e){return 1===e||2===e||"US"===e||"GB"===e}function c(e){return 1===e||"US"===e}n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return c}))},"4O/9":function(e,t,n){var i=n("Sxd8");e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=i(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},"573u":function(e,t,n){n.d(t,"a",(function(){return o}));const i=!("undefined"==typeof window||!window.performance||!window.performance.now);function o(e,t,n){this.category=e,this.variable=t,this.label=n,this.startTime,this.elapsedTime}function r(){return i?window.performance.now():Date.now()}function a(){this.timers={}}o.prototype.start=function(){return this.startTime=r(),this},o.prototype.end=function(){return this.elapsedTime=Math.round(r()-this.startTime),this.startTime=i?Math.round(this.startTime):null,this},o.prototype.getCompletedTime=function(){return this.elapsedTime},o.prototype.send=function(){if(this.elapsedTime>0&&this.elapsedTime<6e5){const{category:e,variable:t,label:i,elapsedTime:o}=this;Promise.resolve().then(n.bind(null,"rh3l")).then(({default:n})=>{n.logToServer(n.SERVER_LOG_TYPE.INTERACTION_TIMING,n.HTTP_METHOD.POST,{category:e,variable:t,label:i,time:o})})}return this},a.prototype.start=function(e,t,n,...i){const r=Array.prototype.slice.call([e,t,n,...i],0,2).join(":"),a=new o(e,t,n).start();this.timers[r]=a},a.prototype.end=function(e,t,n){const i=e+":"+t,o=this.timers[i];return o&&(o.end(),n&&o.send(),delete this.timers[i]),o};new a},"9kUC":function(e,t,n){var i=n("q1tI");t.a=Object(i.createContext)(()=>null)},ARZW:function(e,t,n){n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return j}));var i=n("kmwA"),o=n("ZNVR"),r=n("0G5S");const{ADMO_TV_WEB_PIXEL_URL:a,ADMO_TV_LOGIN_EVENT_PIXEL_URL:s,ADMO_TV_REGISTRATION_EVENT_PIXEL_URL:c}=i.a.settings,l="admo-tv-d-ses",d="admo-tv-m-ses",u="admo-tv-d-login",b="admo-tv-m-login",g="admo-tv-d-reg",h="admo-tv-m-reg",f={"admo-tv-d-login":s,"admo-tv-m-login":s,"admo-tv-d-reg":c,"admo-tv-m-reg":c};function m(e,t){function n(e,t){var n;const i=Object(o.a)({src:a,id:e,height:1,width:1,sandbox:"allow-scripts",style:"display:none;"});null===(n=document.body)||void 0===n||n.appendChild(i),t(),function(){for(const t of Object.keys(f))if(Object(r.a)(t)){var e;const n=Object(o.a)({src:f[t],id:t,height:1,width:1,sandbox:"allow-scripts",style:"display:none;"});null===(e=document.body)||void 0===e||e.appendChild(n),Object(r.b)(t)}}()}document.getElementById(e)||("complete"===document.readyState&&n(e,t),window.addEventListener("load",function e(t,i){return o=>{n(t,i),window.removeEventListener(o,e)}}(e,t)))}function p(e,t){Object.keys(f).find(t=>t===e)&&(Object(r.a)(e)||(Object(r.c)(e,!0),t()))}function _(e,t){return n=>{p(e,t),window.removeEventListener(n,_)}}function j(e,t){"complete"===document.readyState?p(e,t):window.addEventListener("load",_(e,t))}},AXUD:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));const i=412,o=429},AYc3:function(e,t,n){n.d(t,"d",(function(){return B})),n.d(t,"f",(function(){return G})),n.d(t,"b",(function(){return M})),n.d(t,"l",(function(){return V})),n.d(t,"h",(function(){return z})),n.d(t,"e",(function(){return F})),n.d(t,"k",(function(){return W})),n.d(t,"c",(function(){return H})),n.d(t,"m",(function(){return X})),n.d(t,"i",(function(){return $})),n.d(t,"j",(function(){return Y})),n.d(t,"a",(function(){return K})),n.d(t,"g",(function(){return q}));var i=n("7w6Q"),o=n("0G5S");async function r(e){if("undefined"==typeof TextEncoder)return"";const t=(new TextEncoder).encode(e),n=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}var a=n("kmwA"),s=n("ZNVR");const c=a.a.settings.DENTSU_STADIA_PIXEL,l="dentsu_images",d="ds_pixel_unauth";const{FLASHTALKING_DWEB_SESSION_PIXEL_START:u,FLASHTALKING_DWEB_SESSION_PIXEL_END:b,FLASHTALKING_MWEB_SESSION_PIXEL_START:g,FLASHTALKING_MWEB_SESSION_PIXEL_END:h,FLASHTALKING_DWEB_LOGIN_PIXEL_START:f,FLASHTALKING_DWEB_LOGIN_PIXEL_END:m,FLASHTALKING_MWEB_LOGIN_PIXEL_START:p,FLASHTALKING_MWEB_LOGIN_PIXEL_END:_,FLASHTALKING_DWEB_REGISTER_PIXEL_START:j,FLASHTALKING_DWEB_REGISTER_PIXEL_END:O,FLASHTALKING_MWEB_REGISTER_PIXEL_START:x,FLASHTALKING_MWEB_REGISTER_PIXEL_END:w,FLASHTALKING_DWEB_BUSINESS_PIXEL_START:y,FLASHTALKING_DWEB_BUSINESS_PIXEL_END:S}=a.a.settings,v={"flashtalking-d-ses":[u,b],"flashtalking-m-ses":[g,h],"flashtalking-d-login":[f,m],"flashtalking-m-login":[p,_],"flashtalking-d-reg":[j,O],"flashtalking-m-reg":[x,w],"flashtalking-bus":[y,S]},E=["flashtalking-d-login","flashtalking-m-login","flashtalking-d-reg","flashtalking-m-reg"];function T(){for(const t of E)if(Object(o.a)(t)){var e;const n=1e6*Math.random(),i=Object(s.a)({src:v[t][0]+n+v[t][1],id:t,height:1,width:1,style:"display:none;"});null===(e=document.body)||void 0===e||e.appendChild(i),Object(o.b)(t)}}function I(e,t){function n(e,t){var n;const i=1e6*Math.random(),o=Object(s.a)({src:v[e][0]+i+v[e][1],id:e,height:1,width:1,style:"display:none;"});null===(n=document.body)||void 0===n||n.appendChild(o),t(),T()}document.getElementById(e)?T():("complete"===document.readyState&&n(e,t),window.addEventListener("load",function e(t,i){return o=>{n(t,i),window.removeEventListener(o,e)}}(e,t)))}function k(e,t){E.find(t=>t===e)?Object(o.a)(e)||(Object(o.c)(e,!0),t()):I(e,t)}function L(e,t){return n=>{k(e,t),window.removeEventListener(n,L)}}const C=a.a.settings.DATA_PLUS_MATH_WEB_PIXEL,A=a.a.settings.DATA_PLUS_MATH_EVENT_PIXEL,N="dpm_images",R="dpm_pixel_unauth";async function P(e,t,n){const i="undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await r(t):"",o=C+"&url="+document.URL+"&refr="+document.referrer+"&uid="+e+"*"+i,a="&url="+document.URL+"&refr="+document.referrer+"&uid="+i;n(),Object(s.b)(e,"dpm_pixel_auth",R,N,o,a,"dpm")}var D=n("ARZW"),U=n("sYwW");function B(){Object(U.a)(),Object(U.b)("PageView",()=>{i.a.increment("fb_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"})}),Object(U.b)("ViewContent",()=>{i.a.increment("fb_tracking_pixel",1,{event_category:"ViewContent",event_name:"AuthViews"})})}function G(){!function(){function e(){const e=document.createElement("script");function t(){dataLayer.push(arguments)}e.src="https://www.googletagmanager.com/gtag/js?id=AW-819016158",e.async=!0,document.body.insertBefore(e,document.body.firstChild),window.dataLayer=window.dataLayer||[],t("js",new Date),t("config","AW-819016158"),t("event","page_view",{send_to:"AW-819016158"})}"complete"===document.readyState&&e(),window.addEventListener("load",e)}()}function M(e){if(e){const t=e.unauthId,n=e.userId;t&&n&&(Object(o.a)("dpm_pixel_login_event")?P(t,n,()=>{i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"})}):P(t,n,()=>{i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"}),i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"UniqueViews"})}))}}function V(e){if(e){const t=e.unauthId;t&&async function(e,t){const n=C+"&url="+document.URL+"&refr="+document.referrer+"&uid="+e;Object(s.c)(e,R,N,n),t()}(t,()=>{i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"UnAuthViews"}),i.a.increment("dpm_tracking_pixel",1,{event_category:"PageView",event_name:"UniqueViews"})})}}function z(e){if(e){const t=e.pixelId,n=e.userId?e.userId:"",o=e.eventCategory,a=e.eventName;t&&o&&a&&async function(e,t="",n){let i;if(t){const n="undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await r(t):"";i=A+e+"&url="+document.URL+"&refr="+document.referrer+"&uid="+n}Object(s.d)(e,N,i),n()}(t,n,()=>{i.a.increment("dpm_tracking_pixel",1,{event_category:o,event_name:"All"}),"All"!==a&&i.a.increment("dpm_tracking_pixel",1,{event_category:o,event_name:a})})}}function F(e){if(e){const t=e.id,n=e.eventName;t&&n&&I(t,()=>{i.a.increment("flashtalking_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.a.increment("flashtalking_tracking_pixel",1,{event_category:"PageView",event_name:n})})}}function W(e){if(e){const t=e.id,n=e.eventCategory,o=e.eventName;t&&n&&o&&function(e,t){"complete"===document.readyState?k(e,t):window.addEventListener("load",L(e,t))}(t,()=>{i.a.increment("flashtalking_tracking_pixel",1,{event_category:n,event_name:"All"}),"All"!==o&&i.a.increment("flashtalking_tracking_pixel",1,{event_category:n,event_name:o})})}}function H(e){if(e){const t=e.unauthId,n=e.userId;t&&n&&async function(e,t,n){const i=1e6*Math.random(),o="undefined"!=typeof window&&window.crypto&&window.crypto.subtle?await r(t):"",a=`&c_4=%23%7B${e}*${o}%7D&c_7=%23%7B${i}%7D`,u=c+(document.URL+"&c_3=%7BPageView%7D")+`&c_4=%23%7B${e}${o}%7D`+`&c_7=%23%7B${i}%7D`;Object(s.b)(e,"ds_pixel_auth",d,l,u,a,"dentsu"),n()}(t,n,()=>{i.a.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.a.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AuthViews"})})}}function X(e){if(e){const t=e.unauthId;t&&async function(e,t){const n=1e6*Math.random(),i=c+(document.URL+"&c_3=%7BPageView%7D")+`&c_4=%23%7B${e}%7D`+`&c_7=%23%7B${n}%7D`;Object(s.c)(e,d,l,i),t()}(t,()=>{i.a.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.a.increment("dentsu_tracking_pixel",1,{event_category:"PageView",event_name:"UnAuthViews"})})}}function $(e){if(e){const t=e.pixelId,n=e.eventCategory,o=e.eventName;t&&n&&o&&function(e,t){Object(s.d)(e,l),t()}(t,()=>{i.a.increment("dentsu_tracking_pixel",1,{event_category:n,event_name:"All"}),i.a.increment("dentsu_tracking_pixel",1,{event_category:n,event_name:o})})}}function Y(){!function(e){function t(){const t=Object(s.a)({src:"https://"+location.hostname+"/_/_/pixel/fb-dentsu-jp.html",id:"dentsuFBPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(!document.body)throw new Error("missing <body>");document.body.appendChild(t),t.contentWindow.addEventListener("load",()=>window._sendFacebookPixel=t.contentWindow.fbq),e()}document.getElementById("dentsuFBPixel")||("complete"===document.readyState&&t(),window.addEventListener("load",t))}(()=>{i.a.increment("dentsu_tracking_pixel",1,{event_category:"PageViews (Facebook)",event_name:"AllViews"})})}function K(e){if(e){const t=e.id,n=e.eventName;t&&n&&Object(D.g)(t,()=>{i.a.increment("admo_tracking_pixel",1,{event_category:"PageView",event_name:"AllViews"}),i.a.increment("admo_tracking_pixel",1,{event_category:"PageView",event_name:n})})}}function q(e){if(e){const t=e.id,n=e.eventCategory,o=e.eventName;t&&n&&o&&Object(D.h)(t,()=>{i.a.increment("admo_tracking_pixel",1,{event_category:n,event_name:"All"}),"All"!==o&&i.a.increment("admo_tracking_pixel",1,{event_category:n,event_name:o})})}}},CzMn:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("QLqj");function o(){return function(e){const t={};return e.forEach(e=>{const n=i.b.localStorage.getItem(e);n&&("signupInterestsPickerStartTime"===e?t.signupInterestsPickerTimeSpent=Date.now()-n:t[e]=n)}),JSON.stringify(t)}(["signupInterestsPickerScrollDown","signupInterestsPickerStartTime"])}},HZII:function(e,t,n){var i=n("4O/9");e.exports=function(e){return i(2,e)}},IDoE:function(e,t,n){var i=n("xGpI");t.a=()=>Object.keys(Object(i.a)()).length},IZzd:function(e,t,n){var i=n("gxu6"),o=n("TPPM"),r=n("PioT");let a;const s={},c={};c[r.a.CHROME]={url:"https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",newWindow:!0},c[r.a.FIREFOX]={url:"https://assets.pinterest.com/ext/Pinterest_Firefox.xpi",newWindow:!1},c[r.a.SAFARI]={url:"https://safari-extensions.apple.com/details/?id=com.pinterest.extension-HWZFLG9PNK",newWindow:!0},c[r.a.IE]={url:"https://about.pinterest.com/assets/ext/Pinterest-IE-0.0.4.exe",newWindow:!1},c[r.a.OPERA]={url:"https://addons.opera.com/en/extensions/details/pinterest-8/?display=en",newWindow:!0},s.handleExtensionInstall=e=>{const t=function(){const e=r.b.getBrowser();return e?c[e].url:void 0}();t&&(Object(o.a)(t,function(){const e=r.b.getBrowser();return e?c[e].newWindow:void 0}()),e())},s.isExtensionInstalled=()=>a,s.isChrome=()=>r.b.getBrowser()===r.a.CHROME,s.isBrowserExtensionSupported=()=>r.b.isChrome()||r.b.isFirefox(),s.extensionReady=(e=100)=>new Promise(t=>{setTimeout(()=>{document.body&&(a=document.body.hasAttribute("data-pinterest-extension-installed"),i.b("bei",a.toString()),r.b.getBrowser()===r.a.OTHER&&(a=!0),t(a))},e)}),s.initBrowserExtension=()=>{Promise.resolve().then(n.bind(null,"rh3l")).then(({default:e})=>{e.logToServer(e.SERVER_LOG_TYPE.BROWSER_EXTENSION,e.HTTP_METHOD.POST,{browser_extension_installed:a})})},t.a=s},J2m7:function(e,t,n){var i=n("XKAG")(n("UfWW"));e.exports=i},J8m7:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return f})),n.d(t,"q",(function(){return m})),n.d(t,"r",(function(){return p})),n.d(t,"s",(function(){return _})),n.d(t,"t",(function(){return j})),n.d(t,"u",(function(){return O})),n.d(t,"v",(function(){return x})),n.d(t,"w",(function(){return w})),n.d(t,"x",(function(){return y})),n.d(t,"y",(function(){return S})),n.d(t,"A",(function(){return v})),n.d(t,"z",(function(){return E})),n.d(t,"B",(function(){return T})),n.d(t,"C",(function(){return I})),n.d(t,"p",(function(){return k})),n.d(t,"i",(function(){return L})),n.d(t,"D",(function(){return C})),n.d(t,"b",(function(){return A}));const i=101,o=93,r=9,a=8,s=16,c=12,l=18,d=105,u=79,b=78,g=77,h=76,f=1402,m=85,p=82,_=88,j=1201,O=86,x=30,w=84,y=83,S=2901,v=2904,E=2905,T=95,I=19,k=113,L=91,C=[a,r],A=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[d,"FACEBOOK_ACCOUNT_NOT_LINKED"],[c,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[s,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[g,"INVALID_PASSWORD_FB_USER"],[b,"INVALID_PASSWORD_ERROR_CODE"],[u,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[p,"LOGIN_DEACTIVATED_USER"],[y,"LOGIN_POLICY_VIOLATION_USER"],[m,"AUTO_PASSWORD_RESET_ERROR_CODE"],[O,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[o,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[a,"API_LIMIT_EXCEEDED_ERROR"],[r,"API_EVENT_BLOCKED_ERROR"],[I,"USER_IN_SAFE_MODE"],[w,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[m,"LOGIN_BAD_PASSWORD_ASK_RESET"],[j,"LOGIN_MFA_REQUIRED"],[x,"LOGIN_USER_NOT_FOUND"],[_,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"],[S,"SAR_DOWNLOAD_LIMIT"],[v,"SAR_EMAIL_UNVERIFIED"],[E,"SAR_EMAIL_MISSING"]])},KwMD:function(e,t){e.exports=function(e,t,n,i){for(var o=e.length,r=n+(i?1:-1);i?r--:++r<o;)if(t(e[r],r,e))return r;return-1}},Ncr9:function(e,t,n){var i=n("TPPM"),o=n("XdLN"),r=n("28DW");t.a=e=>{Object(o.a)(e)||(e="/",Object(r.a)("url_reset")),Object(i.a)(e,!1)}},NwVv:function(e,t,n){var i=n("ipvL"),o=n("bBqG");t.a=(e,t,n)=>{const r=i.a.getAccountsJSON();r[e.id]=(e=>{const t={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return t.fullName&&t.imageMediumUrl&&t.imageLargeUrl||Object(o.a)("utils.incomplete_user_values"),e.partner&&e.partner.is_create?{...t,partner:{is_create:e.partner.is_create}}:t})(e),i.a.setAccounts(JSON.stringify(r)),t&&n&&Object(o.a)("new_account_add_success",{method:t,user_added:e.id},n)}},OCob:function(e,t,n){var i=n("+NLT");t.a=()=>({referrer:i.a.instance.referrer,facebookToken:i.a.instance.facebook_token,unauthId:i.a.instance.unauth_id,origin:i.a.instance.origin,appType:i.a.instance.app_type})},SCuf:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("yweb"),o=n("n6mq"),r=n("nKUr");function a(){const e=Object(i.c)();return Object(r.jsx)(o.f,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(r.jsx)(o.T,{accessibilityLabel:e._("Loading signup form"),show:!0})})}},UfWW:function(e,t,n){var i=n("KwMD"),o=n("ut/Y"),r=n("Sxd8"),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:r(n);return c<0&&(c=a(s+c,0)),i(e,o(t,3),c)}},VL22:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s}));var i=n("kmwA");const o={FACEBOOK:"facebook",GOOGLE_ONE_TAP:"google_one_tap",GOOGLE:"google",LINE:"line",EMAIL:"email",OTHER:"other"},r=e=>e.facebook_id?o.FACEBOOK:e.google_open_id_token?o.GOOGLE_ONE_TAP:e.gplus_code||e.gplus_id_token?o.GOOGLE:e.line_id_token?o.LINE:e.email?o.EMAIL:o.OTHER,a=(e="")=>e in i.a.settings.MINIMUM_AGE_BY_EU_COUNTRY,s=e=>i.a.settings.EN_COUNTRIES_WITH_MANDATORY_AGE.includes(e)||i.a.settings.LATAM_AGE_COLLECTION.has(e)},XKAG:function(e,t,n){var i=n("ut/Y"),o=n("MMmD"),r=n("7GkX");e.exports=function(e){return function(t,n,a){var s=Object(t);if(!o(t)){var c=i(n,3);t=r(t),n=function(e){return c(s[e],e,s)}}var l=e(t,n,a);return l>-1?s[c?t[l]:l]:void 0}}},"YI5+":function(e,t,n){n.d(t,"a",(function(){return l}));var i=n("Ye/N"),o=n("ihsa"),r=n("28DW"),a=n("n6mq"),s=n("nKUr");const c={mask:{backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},scroller:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},modalContainer:{display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},closeButton:{backgroundColor:"Transparent",backgroundRepeat:"no-repeat",border:"none",outline:"none",overflow:"hidden",padding:"10px",position:"fixed",right:"24px",top:"24px"}};function l(e){const t=e=>{Object(r.a)("unauth.account_switcher_modal."+e)},{renderContent:n}=e;return Object(s.jsxs)("div",{style:c.mask,children:[Object(s.jsx)(o.a,{unsafeCSS:"\n.AccountSwitcherModal {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n"}),Object(s.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{t("empty_space_click");const{onCloseClick:n}=e;n()},role:"dialog",style:c.scroller,children:Object(s.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:c.modalContainer,children:[n(),Object(s.jsx)("button",{"aria-label":i.a._("close","accessible label for close button","accessible label for close button"),onClick:()=>{t("close_button_click");const{onCloseClick:n}=e;n()},style:c.closeButton,children:Object(s.jsx)(a.v,{accessibilityLabel:i.a._("close","accessible label for close button","accessible label for close button"),color:"white",icon:"cancel",inline:!0})})]})})]})}},ZNVR:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b}));var i=n("kmwA"),o=n("0G5S");const r={dpm:["dpm_pixel_login_event","dpm_pixel_new_user_event"],dentsu:["dentsu_pixel_login_event","dentsu_pixel_new_user_event"]};function a(e){const t=document.createElement("iframe");for(const n in e)t.setAttribute(n,e[n]);return t}function s(e,t,n){const o=document.createElement("img"),r=n.dpm,a=n.dentsu;let s="";return r?s=i.a.settings.DATA_PLUS_MATH_EVENT_PIXEL+t+r:a&&(s=i.a.settings.DENTSU_STADIA_PIXEL+(document.URL+"&c_3=")+`%7B${t}%7D`+a),o.height=1,o.width=1,o.style.display="none",o.id=e,o.src=s,o}function c(e,t,n,i,a,c="",l){const d=document.getElementById(t),u=document.getElementById(n);async function b(e,t,n,i,a,c,l){const d=document.getElementById(i)?document.getElementById(i):document.createElement("div"),u=document.createElement("img");u.height=1,u.width=1,u.style.display="none",u.id=t,u.src=a,d&&(d.id=i,d.appendChild(u));for(const g of r[l])if(Object(o.a)(g)){const e={dentsu:"",dpm:""};e[l]=c;const t=s(g,Object(o.a)(g),e);d&&d.appendChild(t),Object(o.b)(g)}var b;d&&(null===(b=document.body)||void 0===b||b.insertBefore(d,document.body.firstChild))}d||(u&&u.remove(),"complete"===document.readyState&&b(0,t,0,i,a,c,l),window.addEventListener("load",function e(t,n,i,o,r,a,s){return t=>{b(0,n,0,o,r,a,s),window.removeEventListener(t,e)}}(0,t,0,i,a,c,l)))}function l(e,t,n,i){function o(e,t,n,i){const o=document.getElementById(n)?document.getElementById(n):document.createElement("div"),r=document.createElement("img");var a;(r.height=1,r.width=1,r.style.display="none",r.id=t,r.src=i,o)&&(o.id=n,o.appendChild(r),null===(a=document.body)||void 0===a||a.insertBefore(o,document.body.firstChild))}document.getElementById(t)||("complete"===document.readyState&&o(0,t,n,i),window.addEventListener("load",function e(t,n,i,r){return t=>{o(0,n,i,r),window.removeEventListener(t,e)}}(0,t,n,i)))}function d(e,t,n){if(-1!==e.indexOf("login")||-1!==e.indexOf("new_user")){let t;-1!==e.indexOf("login")?t="web_login":-1!==e.indexOf("new_user")&&(t="web_new_user"),Object(o.a)(e)||Object(o.c)(e,t)}else if("web_billing_complete"===e){const e=document.getElementById(t)?document.getElementById(t):document.createElement("div"),o=document.createElement("img");var i;if(o.height=1,o.width=1,o.style.display="none",o.id="web_billing_complete",o.src=n,!document.getElementById(t))if(e)e.id=t,e.appendChild(o),null===(i=document.body)||void 0===i||i.insertBefore(e,document.body.firstChild)}}function u(e,t,n){return i=>{d(e,t,n),window.removeEventListener(i,u)}}function b(e,t,n=""){"complete"===document.readyState?d(e,t,n):window.addEventListener("load",u(e,t,n))}},b7nI:function(e,t,n){var i=n("yweb"),o=n("n6mq"),r=n("nKUr");const a=()=>{const e=Object(i.c)();return Object(r.jsx)(o.T,{accessibilityLabel:e._("Loading","Label for loading spinner","Label for loading spinner"),show:!0})};t.a=()=>Object(r.jsxs)(o.f,{children:[Object(r.jsx)(o.f,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,opacity:1,dangerouslySetInlineStyle:{__style:{zIndex:101}},children:Object(r.jsx)(a,{})}),Object(r.jsx)(o.f,{color:"white",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,opacity:.7,dangerouslySetInlineStyle:{__style:{zIndex:100}}})]})},bBqG:function(e,t,n){var i=n("IDoE"),o=n("ipvL"),r=n("zRck"),a=n("28DW"),s=n("7Cbv");t.a=(e,t,n)=>{let c=o.a.getGroupId();c||(c=(()=>{const e=Object(s.a)();return Object(a.h)("web_account_switcher.utils.group_created",{group_id:e,group_count:Object(i.a)()}),e})(),o.a.setGroupId(c));const l={group_id:c,group_count:Object(i.a)()};let d="";n&&(d=n===r.c?"modal.":"flyout."),Object(a.h)(`web_account_switcher.${d}${e}`,Object.assign({},t,l))}},dish:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var i=n("QLqj");const o=()=>i.b.localStorage.getItem("uoiou")||!1,r=e=>{i.b.localStorage.setItem("uoiou",!!e)}},gYog:function(e,t,n){n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return h}));var i=n("q1tI"),o=n("/MKj"),r=n("T+9/"),a=n("ZbwW"),s=n("D2p8"),c=n("U4JR"),l=n("QAzJ"),d=n("nKUr");const u={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};function b({closeupImpressionType:e,closeupNavigationType:t,componentType:n,contextLogData:r,elementType:l,impressionAuxFields:d,inImpressionExp:b,impressionType:g,impressionsFramework:h,isPaused:f,loggingId:m,objectIdStr:p,slotIndex:_,trackCarousel:j,viewData:O,viewParameter:x,viewType:w}){const y=Object(o.useSelector)(({pins:e})=>e),S=Object(a.a)(y[m||""]||{}),v=h||s.c,E=Object(i.useRef)(null),T=i=>{const o=u[g],a=o.idType,s={endTime:i.endTime,[a]:m,slotIndex:_,time:i.startTime,renderDuration:i.endTime-i.startTime,type:e,...d,forcedExit:"removed"===i.forcedExit?0:void 0},b={component:n,objectIdStr:p,view:w,viewData:O||{},viewParameter:x,...r};if(j){if(S){var h,f,y;Object(c.b)(7352,{eventData:{pinCarouselSlotImpressions:[{...s,carouselDataId:Number(S.id),carouselSlotId:(null===(h=S.carousel_slots)||void 0===h?void 0:h[null!==(f=S.index)&&void 0!==f?f:0])&&Number(S.carousel_slots[null!==(y=S.index)&&void 0!==y?y:0].id),slotIndex:S.index}]},...b})}}else Object(c.b)(o.eventType,{closeup_navigation_type:t,element:l,eventData:{[o.impressionType]:[s]},...b})},I=Object(i.useCallback)(()=>{try{E.current instanceof HTMLElement&&v.start(E.current).onExitViewport(T).setDebugId(m||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[E.current]);Object(i.useEffect)(()=>(b&&!v.inExperiment&&v.setExperimentStatus(!0),f||I(),()=>{E.current instanceof HTMLElement&&v.stop(E.current)}),[I]);const k=Object(i.useRef)(f);return Object(i.useEffect)(()=>{k.current&&!f&&I(),k.current=f},[f,I]),E}const g=({children:e,...t})=>e({impressionTrackerRef:b(t)}),h=({children:e,experimentName:t,...n})=>{const{anyEnabled:o}=Object(l.b)(t)(),a=Object(i.useRef)(null);return o?Object(d.jsx)(g,{...n,children:({impressionTrackerRef:t})=>e({impressionTrackerRef:t})}):Object(d.jsx)(r.a,{...n,children:e({impressionTrackerRef:a})})}},ipvL:function(e,t,n){var i=n("0G5S"),o=n("zRck");const r=e=>"undefined"!=typeof window?Object(i.a)(e):null,a=(e,t)=>{"undefined"!=typeof window&&Object(i.c)(e,t)},s={getAccounts:()=>r(o.o),getAccountsJSON:()=>s.getAccounts()?JSON.parse(s.getAccounts()):{},getGroupId:()=>{const e=r(o.p);return e?JSON.parse(e):null},setAccounts:e=>a(o.o,e),setGroupId:e=>a(o.p,JSON.stringify(e))};t.a=s},kJuv:function(e,t,n){var i=n("eOdZ"),o=n("QLqj"),r=n("kmwA"),a=n("ARZW"),s=n("J8m7"),c=n("sv3x"),l=n("AXUD"),d=n("dish"),u=n("OX7c"),b=n("28DW"),g=n("AYc3"),h=n("2y2F"),f=n("yM2L");const m=function(e,t,n="",i=!1){let o="referrer_unknown";try{const e=document.referrer;o=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(f){}const r=Object(c.c)(e),s=t===Object(t)?t.hybridTier:"tier_unknown",l=t===Object(t)?t.container:"container_unknown";Object(b.a)("login.referrer."+o+"."+r),Object(b.a)("login.container."+l+"."+r),Object(b.a)("login.type."+r);const d=Object(c.c)(e)||"method_unknown",u=t.page||"page_unknown";e.gplus_autologin?i?(Object(b.a)("mweb_autologin.google_success"),Object(b.i)("new_mweb_autologin_google",{page:u,referrer:o,container:l,hybridTier:s})):(Object(b.a)("web_autologin_google"),Object(b.i)("new_web_autologin_google",{page:u,referrer:o,container:l,hybridTier:s})):e.facebook_autologin?(Object(b.a)("web_autologin_facebook"),Object(b.i)("new_web_autologin_facebook",{page:u,referrer:o,container:l,hybridTier:s})):(Object(b.a)(`web_login.${d}.success.${u}.${l}.${o}.${s}`),Object(b.i)(`new_web_login.${d}.success`,{page:u,referrer:o,container:l,hybridTier:s})),Object(h.a)(n)&&Object(g.g)({id:a.a,eventCategory:"Logins",eventName:"Desktop"}),Object(h.f)(n)&&Object(g.k)({id:"flashtalking-d-login",eventCategory:"Logins",eventName:"Desktop"}),Object(h.c)(n)&&Object(g.h)({pixelId:"dpm_pixel_login_event",eventCategory:"Logins",eventName:"Desktop"}),Object(h.d)(n)&&Object(g.i)({pixelId:"dentsu_pixel_login_event",eventCategory:"Logins",eventName:"Desktop"})},p=(e,t)=>{Object(b.a)(`web_cross_domain_login.${e}.${Object(c.c)(t)}`)},_=(e,t,n="unknown_source",i=!1)=>{if(e){const o=e.http_status===l.b?l.b:e.api_error_code;let r=o;s.b.has(o)&&(r=s.b.get(o));const{container:a}=t;i?Object(b.a)(`unauth_web_client_cctld_login_api_error.${String(r)}.${a||"unknow_container"}.${n}`):Object(b.a)(`unauth_web_client_login_api_error.${String(r)}.${a||"unknow_container"}.${n}`)}};t.a=function(e,t,n={},a=!1,s,l,b=!1){if(function(e){return!e.mfa_resend&&!!e.username_or_email}(e)){if(-1!==r.a.settings.CORS_HANDSHAKE_DOMAINS.indexOf(t.origin))return function(e,t,n,i){p("attempt",e);const{referrer:o,facebookToken:r,unauthId:a}=i;return Object(f.loginUser)(e,{recaptchaV3Token:t,referrer:o,facebookToken:r,unauthId:a}).then(t=>{if(t&&t.data){p("success_with_token",e);const i=t.data;return Object(f.exchangeTokenAndSetSession)(i).then(t=>(p("success_token_exchanged",e),m(e,n),Promise.resolve()),t=>{throw p("success_token_not_exchanged",e),t})}throw p("success_without_token",e),new Error},t=>{throw p("failure",e),_(t,n,Object(c.c)(e),!0),t})}(e,l,n,t)}const g=a?null:o.b.localStorage.getItem("visitedPagesBeforeLogin"),h={...e,get_user:e.get_user||e.switch_account&&a,app_type_from_client:7===t.appType?7:5,visited_pages_before_login:g?JSON.stringify(g):null,recaptchaV2Token:s,recaptchaV3Token:l};return i.a.create("UserSessionResource",h).callCreate({showError:!1,async:!0}).then(t=>{const{client_context:i}=t||{},{country:o}=i||{};return m(e,n,o,b),Object(d.b)(!1),Object(u.a)("login").then(()=>t)},t=>(_(t,n,Object(c.c)(e)),Promise.reject(t)))}},"liz/":function(e,t,n){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return m}));var i=n("NwVv"),o=n("TPPM"),r=n("xGpI");n.d(t,"d",(function(){return r.a}));var a=n("ipvL"),s=n("bBqG");n.d(t,"i",(function(){return s.a}));var c=n("D2p8"),l=n("zRck"),d=n("IDoE");n.d(t,"c",(function(){return d.a}));n("+6dQ");const u=4,b=()=>({[l.o]:a.a.getAccountsJSON(),[l.p]:a.a.getGroupId()}),g=e=>{const t=a.a.getAccountsJSON();delete t[e],a.a.setAccounts(JSON.stringify(t))},h=(e,t)=>{if(!a.a.getAccounts()||e&&!(e.id in Object(r.a)())){if(e.partner&&e.partner.is_linked_business&&t)return void Object(i.a)({...e,email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""});Object(i.a)(e)}},f=(e,t,n)=>{Object(s.a)("switch_account_success",{destination_user_id:t},n),Object(o.a)(e)},m=(e,t)=>{c.c.resume(c.a),Object(s.a)("switch_account_failure",{destination_user_id:e},t)}},sYwW:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var i=n("ZNVR");function o(e,t,n=3){if(window._sendFacebookPixel)"NewOrRezUsers"===e||"MAU"===e?window._sendFacebookPixel("trackCustom",e):window._sendFacebookPixel("track",e),t();else if(n>0){const i=Math.floor(3e3/n);setTimeout(()=>{o(e,t,n-1)},i)}}function r(e,t){return n=>{o(e,t),window.removeEventListener(n,r)}}function a(e,t){"complete"===document.readyState?o(e,t):window.addEventListener("load",r(e,t))}function s(){document.getElementById("facebookPixel")||("complete"===document.readyState&&function(){const e=Object(i.a)({src:"https://"+location.hostname+"/fb.html",id:"facebookPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(!document.body)throw new Error("missing <body>");document.body.appendChild(e),e.contentWindow.addEventListener("load",()=>window._sendFacebookPixel=e.contentWindow.fbq)}(),window.addEventListener("load",s))}},sv3x:function(e,t,n){n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return O}));var i=n("gxu6"),o=n("GI6b"),r=n("Jr++"),a=n("Ncr9"),s=n("eOdZ"),c=n("QLqj"),l=n("kmwA"),d=n("28DW"),u=n("AXUD"),b=n("VL22"),g=n("J8m7"),h=n("nKUr");const f=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6}),m=[g.e,g.d,g.C,g.x,g.q,g.s,u.b],p=(g.m,g.n,g.w,g.l,g.x,[...m.filter(e=>e!==g.q&&e!==g.x),g.l,g.o]);class _{static defaultLoginRedirectUrl(){return window.location.pathname===l.a.settings.PASSWORD_RESET_URL||window.location.pathname===l.a.settings.LOGIN_URL||window.location.pathname.startsWith(l.a.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(l.a.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){const e=c.b.localStorage.getItem("urh");if(e&&e.indexOf("|")>-1){const t=e.split("|");return 3===t.length&&(new Date).getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){const e=c.b.localStorage.getItem("urh");let t=[];e&&(t=e.split("|"),3===t.length&&t.shift());const n=((new Date).getTime()/1e3).toString();t.push(n);const i=t.join("|");c.b.localStorage.setItem("urh",i)}static isFullyLoggedIn(e,t){return e&&1===t}static handleRedirect(e){if(!e){e="/";const t=Object(r.a)();if(t){const n=t.next;n&&(e=n,delete t.next),e=Object(o.a)(e,t)}}Object(a.a)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){c.b.localStorage.setItem("signupTime",Date.now()),!t&&e&&"/"!==e?_.handleRedirect(e):_.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){if(navigator.credentials&&e.username_or_email)try{const t=new window.PasswordCredential({id:e.username_or_email,password:e.password});navigator.credentials.store(t).then(()=>{Object(d.a)("navigatorCredentials.store.success")})}catch(t){Object(d.a)("navigatorCredentials.store.error")}}static retrieveLoginCredentialsFromBrowser(){const e=window.navigator.credentials;if(!e)return new Promise((e,t)=>{t()});return e.get({password:!0,mediation:"silent"})}static attemptLoginWithBrowserCredentials(e,t,n){if(!e)return new Promise((e,t)=>{t("No credentials")});let i,o;e.password?(o="include",i=new FormData,i.append("username",e.id),i.append("password",e.password)):o=e;return fetch("/resource/UserSessionResource/create/",{method:"POST",body:i,credentials:o,headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":t||"","X-Pinterest-AppState":n,"X-Requested-With":"XMLHttpRequest"}}).then(e=>{if(200!==e.status){const t=new Error(e.statusText);throw t.response=e,t}return Object(d.a)("navigatorCredentials.login.success"),e.json()}).catch(e=>(Object(d.a)("navigatorCredentials.login.failure"),Promise.reject(e)))}static fetchRecentlyLoggedOutUser(e){if(e)return Promise.reject();const t=s.a.create("UnauthUserDataResource");return new Promise((e,n)=>{t.callGet().then(t=>{const o=t.resource_response.data,r=!!i.a("logged_out");return o?(o.connected_to_facebook||o.connected_to_google||o.has_password||Object(d.a)("unauth.personalized_login.no_login_methods_found"),Object(d.a)("unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(r?"true":"false")),e(o)):(Object(d.a)("unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(r?"true":"false")),n({}))}).catch(e=>{if(e.message){const t=e.message.replace(/\s/g,"_").toLowerCase();Object(d.a)("unauth.personalized_login.fetch_user_info.error."+t)}else Object(d.a)("unauth.personalized_login.fetch_user_info.error.unknown");return n(e)})})}static handleLoginMfa(e,t,n){Object(d.a)("multi_step_login"),_.storeLoginCredentialsToBrowser(e),n?n(e,t):Object(d.a)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}static getLoginErrorState(e,t,n,i,o){let r=null;const a=e.http_status||e.httpStatus;let s,c=e.api_error_code||e.apiErrorCode;if(a===u.b&&(c=u.b),s=p.includes(c)?Object(h.jsx)(i,{api_error_code:c,errorMessage:e.message,handleTouch:()=>o(f.PASSWORD_RESET_SENT),source:t,userSearch:n}):e.message,s)switch(c){case g.l:case g.q:r={passwordValidationError:s};break;case g.m:r={facebookValidationError:s};break;case g.n:r={googleValidationError:s};break;case g.k:r={emailValidationError:s};break;case g.h:r={passwordValidationError:s};break;default:r={emailValidationError:s}}else Object(d.a)(`unauth.login.error.SERVER_ERROR.unknown.${c}.${t}`);return r}}function j(e){return e.facebook_id?b.a.FACEBOOK:e.google_open_id_token?b.a.GOOGLE_ONE_TAP:e.gplus_id_token?b.a.GOOGLE:e.line_id_token?b.a.LINE:e.username_or_email?b.a.EMAIL:b.a.OTHER}function O(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":j(e)}t.b=_},vVbV:function(e,t,n){function i(e){return{type:"SET_NUX_PROGRESS",payload:{step:e}}}n.d(t,"a",(function(){return i}))},vkSv:function(e,t,n){n.d(t,"a",(function(){return pt}));var i=n("q1tI"),o=n("/MKj"),r=n("EgnG"),a=n("n6mq");const s=2640,c=500;var l=n("nKUr");const d=["blue","eggplant","green","maroon","midnight","navy","olive","orange","orchid","pine","purple","watermelon"],u=[10,-10,0];var b=Object(i.memo)((function(){const e=Object(i.createRef)();return Object(i.useEffect)(()=>{Object(r.a)({targets:e.current,translateY:["20%","-20%"],opacity:{value:0,delay:2680,duration:c},duration:4e3,easing:"cubicBezier(.35, 0, .7, .7)",fillMode:"forwards"})},[e]),Object(l.jsx)(a.f,{width:"100%",ref:e,dangerouslySetInlineStyle:{__style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",columnGap:"8px"}},children:function(){const e=[];let t,n=0;for(let i=0;i<3;i+=1){e.push([]),t=[];for(let e=0;e<d.length;e+=1){const o=d[n];t.push(Object(l.jsx)(a.f,{color:o,height:168,marginTop:2,rounding:4,width:112},e)),n+=3,n>=d.length&&(n=i)}e[i].push(Object(l.jsx)(a.f,{marginTop:u[i],children:t},i))}return e}()})})),g=n("Ye/N");var h=Object(i.memo)((function({selectedInterest:e}){const t=Object(i.createRef)(),n=Object(i.createRef)(),o=Object(i.createRef)();Object(i.useEffect)(()=>{Object(r.a)({targets:t.current,scale:[.5,1],translateY:[448,0],opacity:[{value:0,duration:0},{value:1,duration:0}],delay:s,duration:800,easing:"linear",fillMode:"forwards"});const e=(e,t)=>Object(r.a)({targets:n.current,opacity:[0,1],delay:3640,duration:c,fillMode:"forwards"});e(n.current),e(o.current)},[n,o,t]);const d={label:g.a._("Food and Drink","Title for topic","Title for topic"),images:{"400x":{height:561,url:"https://i.pinimg.com/400x/10/31/0a/10310a3d860e8f7f2a5753612a870f5a.jpg",width:400}}},{label:u,name:b,images:h}=e||d,{"400x":{url:f,height:m,width:p}}=h,_=(u||b||"").trim().toLowerCase().replace(/\s/g,"").concat(".com");return Object(l.jsxs)(a.f,{ref:t,height:354,width:236,position:"absolute",marginTop:"auto",marginBottom:"auto",top:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{right:"96px"}},children:[Object(l.jsx)(a.C,{height:354,rounding:4,width:236,children:Object(l.jsx)(a.x,{alt:g.a._("Pin image","Pin image for nux loading step","Pin image for nux loading step"),color:"darkGray",fit:"cover",naturalHeight:m,naturalWidth:p,src:f})}),Object(l.jsx)(a.f,{ref:n,margin:3,position:"absolute",right:!0,top:!0,children:Object(l.jsx)(a.g,{accessibilityLabel:g.a._("Save button"),color:"red",size:"lg",text:g.a._("Save","save button for nux loading step","save button for nux loading step")})}),Object(l.jsxs)(a.f,{ref:o,color:"lightGray",margin:3,paddingX:3,paddingY:1,rounding:"pill",position:"absolute",bottom:!0,left:!0,maxWidth:"90%",display:"flex",alignItems:"center",justifyContent:"between",children:[Object(l.jsx)(a.f,{alignItems:"center",children:Object(l.jsx)(a.v,{accessibilityLabel:g.a._("link","Pin website url link for nux loading step","Pin website url link for nux loading step"),color:"darkGray",icon:"arrow-up-right",size:12})}),Object(l.jsx)(a.f,{flex:"grow",height:18,marginStart:2,overflow:"hidden",children:Object(l.jsx)(a.ab,{size:"sm",truncate:!0,weight:"bold",children:_})})]})]})}));const f={backgroundColor:"#efefef"},m={transition:"width .4s ease-out"};function p(e,t){return Object.assign({},m,{width:e+"%",borderRadius:t})}var _=({color:e="darkGray",height:t=8,progress:n=0,outerBorderRadius:i="10px",innerBorderRadius:o="inherit"})=>{return Object(l.jsx)(a.f,{width:"100%",overflow:"hidden",dangerouslySetInlineStyle:{__style:(r=t,s=i,Object.assign({},f,{height:r+"px",borderRadius:s}))},children:Object(l.jsx)(a.f,{height:"inherit",color:e,dangerouslySetInlineStyle:{__style:p(n,o)}})});var r,s},j=n("vVbV"),O=n("0/lc"),x=n("U4JR"),w=n("QAzJ"),y=n("62cf");const S="NUX_LOADING_STEP_STATUS";function v({incrementNuxStep:e,isRenux:t,selectedInterests:n,showProgressBar:d}){const[u,f]=Object(i.useState)(0),[m,p]=Object(i.useState)(null),v=Object(o.useDispatch)(),E=Object(i.useRef)(null),T=Object(i.useRef)(null),I=Object(w.b)("web_post_nux_loading_screen_copy")().anyEnabled;Object(i.useEffect)(()=>{v(Object(j.a)("loader")),t||v(Object(O.a)(S,y.f)),Object(x.b)(13,{view:t?213:24,viewParameter:261})},[v,t]),Object(i.useEffect)(()=>{p(setInterval(()=>f(e=>Math.min(e+100/17,100)),300))},[]),Object(i.useEffect)(()=>{Object(r.a)({targets:E.current,opacity:[1,0],delay:s,duration:c,easing:"linear",fillMode:"forwards"}),Object(r.a)({targets:T.current,opacity:[0,1],delay:3140,duration:c,easing:"linear",fillMode:"forwards"})},[E,T]),Object(i.useEffect)(()=>{u>=100&&p(clearInterval(m))},[m,u]),Object(i.useEffect)(()=>{u>=100&&setTimeout(()=>{t||v(Object(O.a)(S,y.a)),Object(x.b)(8900,{view:t?213:24,viewParameter:261}),e()},1e3)},[v,e,t,u]);const k=I?g.a._("Hold tight while we customize your home feed...","nux.loadingStep.subheader","Loading homefeed details"):g.a._("We're building your home feed with lots of Pins...","nux.loadingStep.subheader","Details for nux loading step"),L=I?g.a._("Your home feed is made of ideas.","nux.loadingStep.header","Home feed education on NUX loading step"):g.a._("Pins are ideas","nux.loadingStep.header","Pin education on NUX loading step"),C=I?g.a._("Ideas come from creators around the world","nux.loadingStep.educationText","Pin education on NUX loading step"):g.a._("They are links saved from around the web","nux.loadingStep.educationText","Pin education on NUX loading step");return Object(l.jsxs)(a.f,{display:"flex",direction:"column",height:"100%",overflow:"hidden","data-test-id":"nux-complete-loader",children:[Object(l.jsxs)(a.f,{alignItems:"center",direction:"row",display:"flex",height:"100%",justifyContent:"between",overflow:"hidden",paddingX:12,width:"100%",children:[Object(l.jsxs)(a.f,{marginStart:12,position:"relative",width:230,children:[Object(l.jsx)(a.f,{ref:E,children:E.current&&Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(a.u,{size:"md",children:g.a._("All set!","nux.loadingStep.title","Title for nux loading step")}),Object(l.jsx)(a.f,{marginTop:4,children:Object(l.jsx)(a.ab,{children:t?g.a._("We're refreshing your home feed with lots of new Pins...","renux.loadingStep.subheader","Details for ReNUX loading step"):k})})]})}),Object(l.jsx)(a.f,{ref:T,position:"absolute",top:!0,children:T.current&&Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(a.u,{size:"md",children:L}),Object(l.jsx)(a.f,{marginTop:4,children:Object(l.jsx)(a.ab,{children:C})})]})})]}),Object(l.jsx)(a.f,{marginEnd:2,children:Object(l.jsx)(b,{})}),Object(l.jsx)(h,{selectedInterest:n[0]})]}),!d&&Object(l.jsx)(a.f,{height:10,position:"absolute",top:!0,width:"100%",children:Object(l.jsx)(a.f,{height:65,overflow:"hidden",paddingX:2,rounding:8,children:Object(l.jsx)(_,{height:10,innerBorderRadius:"0 32px 32px 0",outerBorderRadius:"32px 32px 0 0",progress:u})})})]})}var E=n("IZzd"),T=n("028R");const I="NUX_BROWSER_EXT_STEP_STATUS";function k({incrementNuxStep:e,isRenux:t}){const n=Object(o.useDispatch)();Object(i.useEffect)(()=>{n(Object(j.a)("extension")),t||n(Object(O.a)(I,y.f)),Object(x.b)(13,{view:t?213:24,viewParameter:260})},[n,t]);const r=()=>{t||n(Object(O.a)(I,y.a)),e()},a=g.a._("Last step! Get our handy browser button","renux.extensionStep.header","Header in NUX browser extension upsell step."),s=g.a._("Quickly save any idea you find around the web","renux.extensionStep.subheader","Subheader in NUX browser extension upsell step");return Object(l.jsx)(T.a,{header:a,installClick:()=>{E.a.handleExtensionInstall(r),Object(x.b)(101,{component:17,element:280,view:t?213:24,viewParameter:260})},skipClick:()=>{Object(x.b)(101,{component:17,element:1150,view:t?213:24,viewParameter:260}),r()},subheader:s})}var L=n("JW66"),C=n("7pfs"),A=n("v/Q4");const N="NUX_GENDER_STEP_STATUS",R=()=>{},P="genderButton",D="nextButton",U="submitButton";function B({incrementNuxStep:e,isRenux:t}){const n=Object(A.a)(),r=n.gender||"",s=n.customGender||"",[c,d]=Object(i.useState)(s),[u,b]=Object(i.useState)(r===y.i&&0===s.length?"":r),[h,f]=Object(i.useState)(r===y.i&&s.length>0),[m,p]=Object(i.useState)(r===y.i&&s.length>0),_=Object(i.useMemo)(()=>[y.e,y.d].includes(r)||s.length>0),w=Object(o.useDispatch)();Object(i.useEffect)(()=>{w(Object(j.a)("gender")),t||w(Object(O.a)(N,y.f)),Object(x.b)(13,{view:t?213:24,viewParameter:3120})},[]);const S=()=>{const n=u===y.i?{gender:y.i,custom_gender:c.slice(0,30)}:{gender:u};w(Object(O.e)({updateUserData:n})).then(()=>{t||w(Object(O.a)(N,y.a)),Object(x.b)(8900,{view:t?213:24,viewParameter:3120}),e()})},v=e=>{let n;switch(e){case P:n=241;break;case D:n=96;break;case U:n=11906}n&&Object(x.b)(101,{component:17,element:n,view:t?213:24,viewParameter:3120})};Object(i.useEffect)(()=>{_?p(u===y.i):u===y.i||m?(d(""),f(!1),p(!m)):u&&S()},[u]);const E=(e,t,n)=>Object(l.jsx)(C.a,{children:({hovered:i,onMouseEnter:o,onMouseLeave:r})=>{const s=u===y.i&&t!==y.i&&!_;return Object(l.jsx)(a.f,{color:i?"lightGray":"transparent","data-test-id":`nux-gender-${t}-label`,onKeyUp:n=>{e||n.keyCode!==L.a.KeyCode.SPACE&&n.keyCode!==L.a.KeyCode.ENTER||(v(P),b(s?"":t))},onMouseEnter:o,onMouseLeave:r,onMouseUp:()=>{e||(v(P),b(s?"":t))},rounding:i?2:0,children:Object(l.jsx)(a.y,{htmlFor:t,children:Object(l.jsxs)(a.f,{alignItems:"center",display:"flex",flex:"none",height:60,paddingX:8,children:[Object(l.jsx)(a.M,{checked:e,id:t,name:"genderOptions",onChange:R,size:"md",value:t}),Object(l.jsx)(a.f,{display:"flex",flex:"grow",marginStart:6,children:n})]})})})}}),T=m?Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(a.f,{"data-test-id":"nux-gender-unspecified-input",display:"flex",flex:"grow",marginEnd:!_&&h?3:0,children:Object(l.jsx)(a.f,{alignItems:"center",width:"100%",children:Object(l.jsx)(a.cb,{id:"customGender",onChange:({event:e})=>(e=>{e.target instanceof HTMLInputElement&&e.target.value.trim().length>0?(d(e.target.value),f(!0)):_&&e.target instanceof HTMLInputElement?(d(e.target.value),f(!1)):(d(""),f(!1))})(e),placeholder:c||g.a._("Enter preferred gender","nux.gender.customGenderPlaceholder","placeholder text for custom gender text field"),size:"lg"})})}),!_&&h&&Object(l.jsx)(a.f,{"data-test-id":"nux-gender-unspecified-done-btn",children:Object(l.jsx)(a.g,{color:"red",inline:!0,onClick:()=>{v(U),S()},size:"lg",text:g.a._("Submit","nux.gender.submitCustomGender","button text for submitting a custom gender type")})})]}):Object(l.jsx)(a.u,{size:"sm",children:g.a._("Specify another","nux.gender.specifyButton","Option for gender besides male and female")}),I=t?g.a._("It’s time to refresh your feed!","nux.gender.renuxHeader","Title on the modal asking user's gender"):g.a._("How do you identify?","Header in NUX gender step.","Header in NUX gender step."),k=t?g.a._("How would you describe yourself?","nux.gender.renuxSubheader","Subtitle on the modal asking user's gender"):"";return Object(l.jsxs)(a.f,{direction:"column",display:"flex",height:"100%",justifyContent:"start",paddingY:8,width:"100%",children:[Object(l.jsx)(a.f,{direction:"column",display:"flex",marginTop:11,paddingX:8,paddingY:8,children:t?Object(l.jsxs)(a.f,{marginTop:8,paddingY:4,children:[Object(l.jsx)(a.u,{align:"center",size:"md",children:I}),Object(l.jsx)(a.f,{marginTop:3,children:Object(l.jsx)(a.ab,{align:"center",children:k})})]}):Object(l.jsx)(a.u,{align:"center",size:"lg",children:I})}),Object(l.jsxs)(a.f,{paddingY:8,children:[E(!m&&u.toLowerCase()===y.d,y.d,Object(l.jsx)(a.u,{size:"sm",children:g.a._("Female","nux.gender.femaleButton","Option for select female gender")})),E(!m&&u.toLowerCase()===y.e,y.e,Object(l.jsx)(a.u,{size:"sm",children:g.a._("Male","nux.gender.maleButton","Option for select male gender")})),E(m,y.i,T)]}),_&&Object(l.jsx)(a.f,{"data-test-id":"nux_gender_next_btn",marginEnd:8,marginStart:8,marginTop:"auto",children:Object(l.jsx)(a.g,{accessibilityLabel:g.a._("Next","nux.gender.nextButton","go to next nux step"),color:"red",disabled:m&&0===c.length,onClick:()=>{v(D),S()},size:"lg",text:g.a._("Next","nux.gender.nextButton","next nux step button"),type:"button"})})]})}var G=n("1inl"),M=n("Jr++"),V=n("CzMn"),z=n("r9FX"),F=n("rh3l"),W=n("HZII"),H=n.n(W),X=n("QLqj"),$=n("w70y"),Y=n("gYog"),K=n("573u"),q=n("+Der");const J="nux_picker",Z=H()(()=>{X.b.localStorage.setItem("signupInterestsPickerScrollDown",!0)});function Q({handleBottomScroll:e,hideFollowedInterests:t,isRenux:n,onNextClick:r,selectedInterests:s,setSelectedInterests:c}){const[d,u]=Object(i.useState)([]),[b,h]=Object(i.useState)([]),[f,m]=Object(i.useState)([]),p=Object(o.useDispatch)(),_=Object(i.useRef)(s),j=Object(i.useRef)(null),w=Object(i.useRef)(null),y=n?213:24,S=Object(o.useSelector)(({mostRecentPin:e})=>e&&e.plp_image_signatures?e.plp_image_signatures:[]),{data:v,error:E}=Object($.a)({allowStale:!1,name:"NuxInterestsResource",options:{is_renux:n,logNetworkTimer:!0,loggerComponentName:J,extraImageSignal:(()=>{const{plpImages:e,blpImages:t}=Object(q.a)(),n=e.concat(t);return S.concat(n)})(),hideFollowedInterests:t,urlParams:Object(M.a)()}});Object(i.useEffect)(()=>{if(v){(()=>{const e=X.b.localStorage.getItem("signupTime");if(e){const t=Date.now()-e;t<18e4&&F.default.logToServer(F.default.SERVER_LOG_TYPE.SIGNUP_LOAD,F.default.HTTP_METHOD.POST,{timing:t,component:"nux"}),X.b.localStorage.removeItem("signupTime")}})();const e=_.current.map(e=>e.id),n=v.filter(t=>!e.includes(t.id)),i=[..._.current,...t?[]:n.filter(e=>e.is_followed)];c(i),h(i);const o=[...i,...n.filter(e=>!e.is_followed)];o.length>0&&(m([(new K.a).start()]),u(o))}},[t,v,_,c]),Object(i.useEffect)(()=>{E&&G.a.showError(E.message||g.a._("Unable to load topics","nux.interestGrid.interestLoadingError","Error message when failed to load topics."))},[E]),Object(i.useEffect)(()=>{const e=[],t=[],n=s.map(e=>e.id);if(d.forEach(i=>{if(e.push(i),n.includes(i.id)){const e=d.map(e=>e.id),n=(i.contextual_interests||[]).filter(t=>!e.includes(t.id));n.length>0&&"InsertionStrategy.INSERT_AT_THE_END"===i.contextual_insertion_strategy&&t.push(...n)}}),e.push(...t),e.length!==d.length&&(u(e),f.length)){const e=f.slice(-1)[0];e.end(),F.default.logToServer(F.default.SERVER_LOG_TYPE.RENDER_TIME,F.default.HTTP_METHOD.POST,{timing:e.getCompletedTime(),component:J}),m(f.slice(0,-1))}},[d,f,s]);const T=(e,t)=>{let n=[...s],i=[...b];const o=!Object(q.b)(s,e),r={...e,is_followed:o};((e,t,n)=>{const i=e?1030:1151;Object(x.b)(101,{component:36,element:i,grid_index:n,objectId:t,view:y,viewParameter:172})})(o,e.id,t);const a=Object(q.b)(n,e);!a&&o?n.push(r):a&&!o&&(n=s.filter(e=>e.id!==r.id));const l=Object(q.b)(i,e);l&&!o&&(i=b.filter(e=>e.id!==r.id)),l!==o&&i.push(r),c(n),h(i)};Object(i.useEffect)(()=>{const t=()=>{const t=w.current,n=j.current;if(t&&n){Z();const i=t.scrollTop+t.offsetHeight,o=n.clientHeight;e(i>=o)}},n=w.current;return n&&n.addEventListener("scroll",t),()=>{n&&n.removeEventListener("scroll",t)}},[e]),Object(i.useEffect)(()=>{if(r){(async()=>{let e;if(n){const t=b.reduce((e,t)=>(e[t.id]=t.is_followed,e),{});e=await p(Object(O.d)(t,"renux"))}else{const t=[],n=[];s.forEach(e=>{t.push(e.id),n.push(e.log_data?e.log_data:null)}),e=await p(Object(O.b)({interests:t.join(),log_data:JSON.stringify(n),referrer:"nux",user_behavior_data:Object(V.a)()}))}return e})().then(()=>{r()})}},[p,b,n,r,s]);const I=d.map(e=>(e.is_followed=Object(q.b)(s,e),e));return I.length>0&&X.b.localStorage.setItem("signupInterestsPickerStartTime",Date.now()),Object(l.jsx)(a.f,{ref:w,dangerouslySetInlineStyle:{__style:{paddingBottom:"40px"}},flex:"grow",height:"100%",overflow:"scrollY",paddingX:2,tabIndex:-1,width:"100%",children:I.length>0?Object(l.jsx)(a.f,{display:"flex",marginStart:5,marginTop:-1,justifyContent:"start",ref:j,wrap:!0,children:I.map((e,t)=>Object(l.jsx)(Y.b,{impressionType:"Interest",loggingId:e.id,slotIndex:t,viewType:y,viewParameter:172,children:({impressionTrackerRef:n})=>Object(l.jsx)(a.f,{padding:1,ref:n,children:Object(l.jsx)(z.a,{clickHandler:()=>T(e,t),index:t+1,interest:e,isSelected:e.is_followed,size:"xl_144",totalInterests:I.length},e.id)})},e.id))}):Object(l.jsx)(a.T,{accessibilityLabel:g.a._("Loading default interests","nux.interestGrid.spinnerLabel","Interest grid loading label"),show:!0})})}var ee=n("eBDd");var te=n("DzJC"),ne=n.n(te),ie=n("vvax");const oe=Object(l.jsx)(a.f,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1))"}},height:20,left:!0,marginTop:-5,position:"absolute",right:!0,top:!0}),re="NUX_TOPIC_PICKER_STEP_STATUS";function ae({hideFollowedInterests:e,incrementNuxStep:t,isRenux:n,isSimpleRenux:r,selectedInterests:s,setSelectedInterests:c,isLastStep:d}){const[u,b]=Object(i.useState)(!1),[h,f]=Object(i.useState)(!1),m=Object(i.useMemo)(()=>n?213:24,[n]),p=Object(o.useDispatch)(),_=Object(i.useMemo)(()=>n&&e?1:5,[e,n]),w=Object(i.useMemo)(()=>u&&s.length>=1?0:Math.max(0,_-s.length),[_,u,s]),S=Object(i.useMemo)(()=>w>0?n&&e?g.a._("Next","renux.interestStep.nextButton","go to next step"):Object(ee.a)(g.a.ngettext("Pick {{ numberLeftToFollow }} more","Pick {{ numberLeftToFollow }} more",w,"number of interests left to pick","number of interests left to pick"),{numberLeftToFollow:w}):g.a._("Done","nux.interestStep.doneButton","Done button on nux and renux interest picker"),[e,n,w]);Object(i.useEffect)(()=>{p(Object(j.a)("topic")),Object(x.b)(13,{view:m,viewParameter:172}),n||p(Object(O.a)(re,y.f))},[p,n,m]);const v=ne()(e=>b(e),50);Object(i.useEffect)(()=>{p({type:"SET_NUX_SELECTED_INTEREST_IMAGES",payload:{images:s.reduce((e,t)=>{if(t&&t.images&&t.images["400x"]){const n={bestPinsImages:t.best_pins_images,height:t.images["400x"].height,width:t.images["400x"].width,url:t.images["400x"].url};e.push(n)}return e},[])}})},[p,s]);let E,T=d?g.a._("Last step! Tell us what you're interested in","nux.interestStep.header","Header in NUX topic picker step."):g.a._("Tell us what you're interested in","nux.interestStep.header.notLast","Header in NUX topic picker when it's not the last step.");return n&&e?(T=g.a._("What are you into these days?","renux.interestStep.header","Header in ReNUX topic picker step."),E=g.a._("Pick the topics you want to see in your home feed","renux.interestStep.subheader","Subheader in ReNUX topic picker step.")):r&&(T=g.a._("Which topics do you want to see more of?","simpleNux.interestStep.header","Header in NUX topic picker step for topic education experience."),E=g.a._("Ideas you see in your home feed are based on topics you like","simpleNux.interestStep.subheader","Subheader in NUX topic picker step for topic education experience.")),Object(l.jsxs)(a.f,{direction:"column",display:"flex",height:"100%",children:[Object(l.jsx)(a.f,{display:"visuallyHidden",role:"alert",children:Object(ie.b)(g.a._("{{selectedTopicsCount}} of at least 5 topics selected","accessible label how many topics are selected","accessible label how many topics are selected"),{selectedTopicsCount:s.length})}),Object(l.jsxs)(a.f,{marginBottom:8,marginTop:n?8:4,paddingX:8,wrap:!0,children:[Object(l.jsx)(a.u,{align:"center",size:"md",children:T}),E&&Object(l.jsx)(a.f,{marginTop:2,children:Object(l.jsx)(a.ab,{align:"center",children:E})})]}),Object(l.jsx)(Q,{handleBottomScroll:v,hideFollowedInterests:e,isRenux:n,onNextClick:h?()=>{n||p(Object(O.a)(re,y.a)),Object(x.b)(101,{component:17,element:96,view:m,viewParameter:172}),Object(x.b)(8900,{view:m,viewParameter:172}),t()}:void 0,selectedInterests:s,setSelectedInterests:c}),Object(l.jsxs)(a.f,{position:"relative",children:[oe,Object(l.jsx)(a.f,{"data-test-id":"nux-picker-done-btn",marginBottom:8,marginTop:8,paddingX:8,children:Object(l.jsx)(a.g,{color:"red",disabled:w>0,onClick:()=>f(!0),size:"lg",text:S,type:"submit"})})]})]})}var se=n("TPPM"),ce=n("kmwA"),le=n("pLLR");const de="NUX_COUNTRY_LOCALE_STEP_STATUS";function ue({incrementNuxStep:e,isRenux:t,toggleLoadingIndicator:n}){const r=Object(A.a)(),s=r.country||"",c=r.locale||"",d=Object(le.d)(),[u,b]=Object(i.useState)(s||d.country||y.b),[h,f]=Object(i.useState)(c||d.locale||y.c),m=Object($.a)({name:"LocalesResource"}),p=Object($.a)({name:"CountriesResource"}),_=Object(o.useDispatch)();Object(i.useEffect)(()=>{_(Object(j.a)("country")),t||_(Object(O.a)(de,y.f));X.b.localStorage.getItem("signupUserLocale")||X.b.localStorage.getItem("signupUserCountry")||Object(x.b)(13,{view:24,viewParameter:3139})},[]);const w=g.a._("Pick your language and country/region","nux.localeCountryStep.header","Header in NUX locale/country step"),S=(e,t,n,i,o)=>{const r=(o.data||[]).concat().sort((e,t)=>e.name.localeCompare(t.name)).map(({name:e,key:t})=>({label:e.toString(),value:t}));return Object(l.jsx)(a.R,{id:e,name:t,onChange:({value:e})=>n(e),options:r,size:"lg",value:i})};return Object(l.jsxs)(a.f,{direction:"column",display:"flex",height:"100%",padding:8,width:"100%",children:[Object(l.jsxs)(a.f,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginBottom:7,children:[Object(l.jsx)(a.f,{marginTop:10,paddingY:5,width:"100%",children:Object(l.jsx)(a.u,{align:"center",size:"md",children:w})}),Object(l.jsxs)(a.f,{marginTop:12,paddingY:5,width:"100%",children:[Object(l.jsx)(a.f,{"data-test-id":"nux-locale-select",children:S("newUserLanguage","locale",e=>{e!==h&&(f(e),_(Object(O.e)({updateUserData:{country:u,locale:e}})).then(()=>{X.b.localStorage.setItem("signupUserLocale",e),n(!0),Object(se.a)("/")}))},h,m)}),Object(l.jsx)(a.f,{"data-test-id":"nux-country-select",marginTop:4,children:S("newUserCountry","country",e=>{if(e!==u){b(e);const t=ce.a.settings.EU_COUNTRIES_2020_COOKIE_POLICY,n=!t.includes(u)&&t.includes(e)?{allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1}:{};_(Object(O.e)({updateUserData:{...n,country:e,locale:h}})).then(()=>{X.b.localStorage.setItem("signupUserCountry",e)})}},u,p)})]})]}),Object(l.jsx)(a.f,{bottom:!0,"data-test-id":"nux-locale-country-next-btn",children:Object(l.jsx)(a.g,{color:"red",disabled:"Country"===u,onClick:()=>{_(Object(O.e)({updateUserData:{country:u,locale:h}})).then(()=>{t||_(Object(O.a)(de,y.a)),Object(x.b)(101,{component:17,element:96,view:24,viewParameter:3139}),Object(x.b)(8900,{view:24,viewParameter:3139}),e()})},size:"lg",text:g.a._("Next","nux.localeCountryStep.nextButton","go to next step"),type:"submit"})})]})}const be=new a.r(1001),ge=new a.n([be]),he=({children:e})=>Object(l.jsx)(a.z,{children:Object(l.jsx)(a.f,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)"}},display:"flex",height:"100vh",justifyContent:"center",overflow:"scroll",position:"fixed",top:!0,width:"100vw",zIndex:be,children:Object(l.jsx)(a.f,{color:"white",padding:8,rounding:8,width:y.h,zIndex:ge,children:e})})});function fe({onDismiss:e,toggleLoadingIndicator:t,view:n,viewParameter:r}){const s=Object(o.useDispatch)(),c=Object(A.a)(),d=c.country||"",u=c.locale||"",{country:b,locale:h}=Object(le.d)(),f=Object(i.useRef)(u||h||y.c),m=Object(i.useRef)(d||b||y.b),[p,_]=Object(i.useState)(f.current),[j,w]=Object(i.useState)(m.current),[S,v]=Object(i.useState)(!1),E={component:13813,view:n,viewParameter:r};Object(i.useEffect)(()=>{Object(x.b)(13,E)},[]),Object(i.useEffect)(()=>v(f.current!==p||m.current!==j),[j,m,f,p]);const T=Object($.a)({name:"LocalesResource"}),I=Object($.a)({name:"CountriesResource"}),k=(e,t,n,i,o)=>{const r=(o.data||[]).concat().sort((e,t)=>e.name.localeCompare(t.name)).map(({name:e,key:t})=>({label:e.toString(),value:t}));return Object(l.jsx)(a.R,{id:e,name:t,onChange:({value:e})=>n(e),options:r,size:"lg",value:i})};return Object(l.jsxs)(he,{children:[Object(l.jsx)(a.u,{align:"center",size:"md",children:g.a._("Pick your language and country/region","nux.countryRegionFooterSelector.modalHeading","Header in NUX locale/country modal selector")}),Object(l.jsx)(a.f,{marginTop:4,paddingY:2,children:k("newUserLanguage","locale",_,p,T)}),Object(l.jsx)(a.f,{paddingY:2,children:k("newUserCountry","country",w,j,I)}),Object(l.jsxs)(a.f,{display:"flex",justifyContent:"between",marginTop:4,children:[Object(l.jsx)(a.g,{inline:!0,onClick:()=>{Object(x.b)(101,{...E,element:11925}),e()},text:g.a._("Cancel","nux.countryRegionFooterSelector.cancelButton","Cancel language/region update"),size:"lg"}),Object(l.jsx)(a.g,{color:"red",disabled:!S,inline:!0,onClick:()=>{Object(x.b)(101,{...E,element:12018});const n=Object(q.c)(m.current,j);s(Object(O.e)({updateUserData:{...n,locale:p,country:j}})).then(()=>{j!==m.current&&(Object(x.b)(9321,{...E,prev_value:m.current,value:p}),X.b.localStorage.setItem("signupUserCountry",j)),p!==f.current?(Object(x.b)(9322,{...E,prev_value:f.current,value:p}),X.b.localStorage.setItem("signupUserLocale",p),t(!0),Object(se.a)("/")):e()})},size:"lg",text:g.a._("Save","nux.countryRegionFooterSelector.saveButton","Save language/region update")})]})]})}var me=n("D2p8"),pe=n("b7nI"),_e=n("TgLd");const je=600,Oe=640,xe=816,we=["NuxDismissableWelcome","NuxWelcomeNameStep","NuxAboutYouStep","NuxGenderStep","NuxLocaleCountryStep"];var ye=Object(i.memo)((function({children:e,currentIndex:t,hideDots:n,inUsecaseQuiz:o,isLoading:s,numSteps:c,onClose:d,onPrevStepClick:u,stepName:b}){const{anyEnabled:h}=Object(w.a)("web_nux_modal_gestalt"),{isRTL:f}=Object(le.d)(),m=Object(i.useRef)(),p=Object(i.useRef)(),_=(e=>we.includes(e))(b);Object(i.useEffect)(()=>(h||(document.body&&(document.body.style.overflow="hidden"),me.c.pause()),()=>{h||(document.body&&(document.body.style.overflow=""),me.c.resume())}),[]),Object(i.useEffect)(()=>{h&&(()=>{if(!m.current||!p.current)return;const e=!_;Object(r.a)({targets:m.current,duration:e?500:0,width:e?[y.h,xe]:[xe,y.h],easing:"linear",fillMode:"forwards"}),Object(r.a)({targets:p.current,duration:e?500:0,height:e?[je,Oe]:[Oe,je],easing:"linear",fillMode:"forwards"})})()},[_]);const j=Object(l.jsxs)(i.Fragment,{children:[s&&Object(l.jsx)(pe.a,{}),!!u&&Object(l.jsx)(a.f,{left:!f,right:f,marginStart:5,marginTop:5,minHeight:40,position:"absolute",top:!0,children:Object(l.jsx)(a.w,{accessibilityLabel:g.a._("Go back to previous step","Accessibility label on NUX back button","Accessibility label on NUX back button"),icon:"directional-arrow-left",iconColor:"darkGray",onClick:u,size:"md"})}),!n&&Object(l.jsx)(a.f,{alignItems:"center",alignSelf:"center",display:"flex",height:16,justifyContent:"evenly",marginBottom:4,marginEnd:4,marginStart:4,marginTop:8,minHeight:16,width:40*c,children:[...Array(c).keys()].map(e=>{const n=e>t,i=n?"6px":"10px";return Object(l.jsx)(a.f,{color:n?"gray":"darkGray","data-test-id":"nux-toc-dot",height:i,rounding:"circle",width:i},e)})}),!!d&&Object(l.jsx)(a.f,{dangerouslySetInlineStyle:{__style:o?{zIndex:1}:{}},marginEnd:6,marginTop:6,minHeight:40,position:"absolute",right:!0,top:!0,children:Object(l.jsx)(a.w,{accessibilityLabel:g.a._("cancel","close nux modal","close nux modal"),icon:"cancel",iconColor:"darkGray",onClick:d,size:"sm"})}),Object(l.jsx)(a.f,{flex:"grow",height:"100%",width:"100%",children:e})]});return h?Object(l.jsx)(_e.b,{accessibilityModalLabel:"nux",closeOnOutsideClick:!1,onDismiss:()=>{},size:_?y.h:xe,children:Object(l.jsx)(a.f,{direction:"column",display:"flex",height:_?je:Oe,maxHeight:"100%",position:"relative",ref:p,children:j})}):Object(l.jsx)(a.z,{children:Object(l.jsx)(a.f,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",zIndex:"999"}},display:"flex",height:"100vh",justifyContent:"center",overflow:"scroll",position:"fixed",top:!0,width:"100vw",children:Object(l.jsx)(a.f,{color:"white",dangerouslySetInlineStyle:{__style:{transition:_?"":"width 0.5s, height 0.5s",borderRadius:"32px"}},direction:"column",display:"flex",height:_?je:Oe,position:"relative",rounding:2,width:_?y.h:xe,children:j})})})})),Se=n("0fBX"),ve=n("ZH46"),Ee=n.n(ve);const Te=196;function Ie(){return Object(l.jsxs)("svg",{width:236,height:420,viewBox:"0 0 236 420",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"M3.00583e-06 32C1.47029e-06 14.3269 14.3269 -1.2525e-06 32 -2.79753e-06L204 -1.78342e-05C221.673 -1.93793e-05 236 14.3269 236 32L236 388C236 405.673 221.673 420 204 420L32 420C14.3269 420 3.54728e-05 405.673 3.39372e-05 388L3.00583e-06 32Z",fill:"#010027"}),Object(l.jsx)("path",{d:"M16 36C16 24.9543 24.9543 16 36 16H200C211.046 16 220 24.9543 220 36V384C220 395.046 211.046 404 200 404H36C24.9543 404 16 395.046 16 384V36Z",fill:"url(#paint0_linear)"}),Object(l.jsx)("path",{d:"M72 9.99994H164V25.9999C164 30.4182 160.418 33.9999 156 33.9999H80C75.5817 33.9999 72 30.4182 72 25.9999V9.99994Z",fill:"#010027"}),Object(l.jsx)("image",{transform:"translate(20,112)",href:Ee.a,height:Te,width:Te}),Object(l.jsx)("defs",{children:Object(l.jsxs)("linearGradient",{id:"paint0_linear",x1:"118",y1:"376.473",x2:"118",y2:"404",gradientUnits:"userSpaceOnUse",children:[Object(l.jsx)("stop",{stopColor:"white"}),Object(l.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0.96"})]})})]})}function ke(){const e=g.a._("Get Pinterest on your phone","footer.appInstall.qrCode.header","header text for app install upsell"),t=g.a._("Scan the QR code with your phone's camera to download our free app","footer.appInstall.qrcode.subheader","subheader text for app install upsell");return Object(l.jsx)(a.f,{paddingX:12,paddingY:5,children:Object(l.jsxs)(a.s,{gap:1,flex:"none",children:[Object(l.jsx)(a.f,{width:394,height:420,marginStart:12,alignItems:"center",children:Object(l.jsxs)(a.s,{direction:"column",gap:1,justifyContent:"center",minHeight:420,children:[Object(l.jsx)(a.f,{marginBottom:4,children:Object(l.jsx)("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 24C0 34.246 6.422 42.994 15.46 46.436C15.24 44.562 15.006 41.472 15.51 39.304C15.944 37.44 18.312 27.428 18.312 27.428C18.312 27.428 17.598 25.998 17.598 23.88C17.598 20.56 19.522 18.08 21.92 18.08C23.96 18.08 24.944 19.61 24.944 21.444C24.944 23.494 23.638 26.558 22.964 29.4C22.402 31.778 24.158 33.718 26.502 33.718C30.748 33.718 34.014 29.24 34.014 22.776C34.014 17.054 29.902 13.056 24.032 13.056C17.236 13.056 13.246 18.154 13.246 23.424C13.246 25.478 14.036 27.678 15.024 28.876C15.218 29.114 15.248 29.32 15.19 29.562C15.008 30.318 14.604 31.94 14.526 32.272C14.42 32.708 14.18 32.802 13.726 32.59C10.742 31.202 8.878 26.84 8.878 23.336C8.878 15.798 14.352 8.878 24.662 8.878C32.95 8.878 39.392 14.784 39.392 22.676C39.392 30.91 34.202 37.538 26.994 37.538C24.572 37.538 22.298 36.278 21.518 34.792C21.518 34.792 20.32 39.356 20.03 40.472C19.466 42.64 17.902 45.384 16.932 46.942C19.168 47.63 21.54 48 24 48C37.254 48 48 37.254 48 24C48 10.746 37.254 0 24 0C10.746 0 0 10.746 0 24Z",fill:"#E60023"})})}),Object(l.jsx)(a.u,{align:"start",size:"md",children:e}),Object(l.jsx)(a.f,{marginTop:4,marginBottom:4,children:Object(l.jsx)(a.ab,{align:"start",children:t})}),Object(l.jsx)(Se.a,{handleComplete:()=>{},justifyContentOverride:"start"})]})}),Object(l.jsx)(a.f,{width:236,children:Object(l.jsx)(Ie,{})})]})})}const Le="NUX_QR_CODE_APP_INSTALL_STEP_STATUS";function Ce({incrementNuxStep:e,isRenux:t}){const n=Object(o.useDispatch)(),r=Object(i.useMemo)(()=>t?213:24,[t]);Object(i.useEffect)(()=>{n(Object(j.a)("install")),t||n(Object(O.a)(Le,y.f)),Object(x.b)(13,{view:r,viewParameter:3596})},[n,t,r]);return Object(l.jsxs)(a.f,{children:[Object(l.jsx)(ke,{}),Object(l.jsx)(a.f,{position:"relative",borderStyle:"shadow","data-test-id":"nux-qr-code-done-btn",padding:8,children:Object(l.jsx)(a.g,{color:"red",onClick:()=>{t||n(Object(O.a)(Le,y.a)),Object(x.b)(101,{component:17,element:96,view:r,viewParameter:3596}),Object(x.b)(8900,{view:r,viewParameter:3596}),e()},size:"lg",text:g.a._("Done","nux.interestStep.doneButton","Done button on nux and renux interest picker"),type:"submit"})})]})}var Ae=n("FDmi");function Ne({account:e,large:t,viewerId:n}){const{email:i,fullName:o,id:r,imageMediumUrl:s,username:c}=e;if(n===r)return null;const d=!(null!=s&&s.includes("static/images/user/default"));return Object(l.jsxs)(a.f,{alignItems:"center",direction:"row",display:"flex",height:"100%",width:"100%",children:[Object(l.jsx)(a.f,{paddingX:1,children:Object(l.jsx)(Ae.a,{accessibilityLabel:"",name:null!=o?o:c,src:d?s:"",size:t?"lg":"md"})}),Object(l.jsxs)(a.f,{marginStart:3,flex:"grow",children:[Object(l.jsx)(a.ab,{color:"darkGray",truncate:!0,weight:"bold",children:o||c}),i&&Object(l.jsx)(a.ab,{color:"darkGray",truncate:!0,children:i})]})]})}var Re=n("0Bqi");var Pe=e=>{const t=Object.keys(e.accounts).length;return Object(l.jsxs)(a.f,{position:"relative",children:[Object(l.jsx)(a.f,{color:"lightGray",height:20*t*4,position:"absolute",width:1,dangerouslySetInlineStyle:{__style:{bottom:48,left:52}}}),Object(l.jsx)("ul",{children:Object.keys(e.accounts).map(t=>{const n=e.accounts[t];return Object(l.jsx)("li",{children:Object(l.jsx)(a.Z,{onTap:()=>e.onClick(n),children:Object(l.jsx)("div",{className:"AccountSwitcherListItem",style:{padding:"8px 16px 8px 28px"},children:Object(l.jsx)(Ne,{account:n})})})},t)})})]})},De=n("h4v/"),Ue=n("OCob"),Be=n("kJuv"),Ge=n("eOdZ"),Me=n("NdXn"),Ve=n("gC5q"),ze=n("gqRH"),Fe=n("zRck"),We=n("fJfT"),He=n("liz/");function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $e extends i.Component{constructor(...e){super(...e),Xe(this,"state",{failedAccount:null,showLoginModal:!1,isLoading:!1}),Xe(this,"handleAddAccount",()=>{Object(He.i)("add_account_click",null,this.props.container),this.props.container===Fe.c&&this.props.showLogin?this.props.showLogin():this.setState({showLoginModal:!0})}),Xe(this,"trackProfileNavigateClick",e=>{Object(He.i)(`current_profile_${e}_click`,null,this.props.container)}),Xe(this,"handleSwitch",e=>{const{container:t}=this.props;this.setState({isLoading:!0}),Object(x.b)(101,{component:13369,element:11196}),Object(He.i)("switch_account_click",{destination_user_id:e.id},t);const n={get_user:!0,switch_account:e.id};De.a.getInstance().pauseImpressionsAndFlush(),Object(Be.a)(n,Object(Ue.a)(),{container:"account_switcher"},!0).then((n={})=>{if(n.resource_response&&n.resource_response.data&&n.resource_response.data.success){const n="/"+e.username;Object(He.f)(n,e.id,t)}else Object(He.e)(e.id,t),this.setState({failedAccount:e,isLoading:!1})},n=>{throw Object(He.e)(e.id,t),this.setState({isLoading:!1}),n})}),Xe(this,"handleLinkedAccountSwitch",e=>{const{authViewer:t,container:n}=this.props;if(this.setState({isLoading:!0}),Object(x.b)(101,{component:13369,element:e.partner&&e.partner.isLinkedBusiness?11195:11194}),De.a.getInstance().pauseImpressionsAndFlush(),e.partner&&e.partner.isLinkedBusiness){const t={business_id:e.id,get_user:!0};Object(Be.a)(t,Object(Ue.a)(),{container:"account_switcher"},!0).then((t={})=>{Object(He.f)("/",e.id,n)},t=>{throw Object(He.e)(e.id,n),this.setState({isLoading:!1}),t})}else Ge.a.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(()=>{Object(He.h)(t.id),Object(He.f)("/"+e.username,t.id,n)},e=>{throw Object(He.e)(t.id,n),this.setState({isLoading:!1}),e})}),Xe(this,"handleCloseModal",()=>this.setState({showLoginModal:!1})),Xe(this,"handleReauthAccount",()=>{Object(He.i)("switch_failure_prompt.login_click",null,this.props.container),this.setState({failedAccount:null,showLoginModal:!0})}),Xe(this,"handleRemoveUnauthAccount",e=>{Object(He.i)("switch_failure_prompt.account_removed",{removed_user_id:e},this.props.container),Object(He.h)(e),this.setState({failedAccount:null})}),Xe(this,"getBusinessAccounts",()=>{const{businessUserResource:e,authViewer:{partner:t}}=this.props;if(!e.data)return null;return(t&&t.is_linked_business?e.data.owners:e.data.businesses).reduce((e,t)=>(e[t.id]=Object(Ve.a)(Me.a,!0)(t),t.partner&&t.partner.is_linked_business&&(e[t.id].email=t.partner.biz_ownership_email),e),{})}),Xe(this,"renderAccounts",e=>Object.keys(e).map((t,n)=>Object(l.jsxs)("li",{children:[Object(l.jsx)(a.Z,{onTap:()=>{this.handleSwitch(e[t])},children:Object(l.jsx)("div",{className:"AccountSwitcherListItem",style:{height:"auto"},children:Object(l.jsx)(Ne,{large:!0,account:e[t],viewerId:this.props.authViewer.id})})}),n!==He.a-2&&Object(l.jsx)(a.p,{})]},n))),Xe(this,"renderPinnerButtons",e=>{const{onNavigateButtonClick:t}=this.props;return Object(l.jsx)(ze.a,{href:`/${e}/`,onHistoryChange:We.e,children:({handleClick:n})=>Object(l.jsx)(a.g,{text:g.a._("View profile","Visit a user profile from account switcher","Visit a user profile from account switcher"),accessibilityLabel:g.a._("Go to current profile","Visit a current user profile from account switcher","Visit a current user profile from account switcher"),size:"sm",color:"red",onClick:({event:e,disableOnNavigation:i})=>{i(),this.trackProfileNavigateClick("button"),t&&t(),n({event:e})},href:`/${e}/`,role:"link"})})}),Xe(this,"renderBusinessButtons",e=>{const{onNavigateButtonClick:t}=this.props;return Object(l.jsxs)(a.f,{display:"flex",children:[Object(l.jsx)(a.f,{marginEnd:2,children:Object(l.jsx)(ze.a,{href:"/business/hub/",onHistoryChange:We.e,children:({handleClick:e})=>Object(l.jsx)(a.g,{text:g.a._("Business hub","Link to Business hub from account switcher","Link to Business hub from account switcher"),accessibilityLabel:g.a._("Go to Business hub","Visit the Business hub for the current business user","Visit the Business hub for the current business user"),size:"sm",color:"red",href:"/business/hub/",role:"link",onClick:({event:n,disableOnNavigation:i})=>{i(),Object(x.b)(101,{element:11236}),t&&t(),e({event:n})}},"biz-hub-button")})}),Object(l.jsx)(ze.a,{href:`/${e}/`,onHistoryChange:We.e,children:({handleClick:n})=>Object(l.jsx)(a.g,{text:g.a._("Profile","Visit a user profile from account switcher","Visit a user profile from account switcher"),accessibilityLabel:g.a._("Go to current user profile","Visit a current user profile from account switcher","Visit a current user profile from account switcher"),size:"sm",role:"link",href:`/${e}/`,onClick:({event:e,disableOnNavigation:i})=>{i(),this.trackProfileNavigateClick("button"),t&&t(),n({event:e})}})})]})})}componentDidMount(){this.props.container===Fe.c&&Object(He.i)("modal.shown")}componentWillUnmount(){this.props.container===Fe.c&&Object(He.i)("modal.dismiss")}renderLoadingIndicator(){return this.state.isLoading?Object(l.jsx)(pe.a,{}):null}render(){var e,t;const{authViewer:n}=this.props,{failedAccount:i,isLoading:o,showLoginModal:r}=this.state,s=Object(He.d)(),c=this.getBusinessAccounts(),d=Object.keys(s).length,u=s[n.id];delete s[u.id];const b=u.imageLargeUrl&&!u.imageLargeUrl.includes("static/images/user/default");return Object(l.jsxs)(a.f,{flex:"grow",children:[r&&Object(l.jsx)(Re.a,{container:this.props.container,onClose:this.handleCloseModal,email:i?i.email:""}),i?Object(l.jsxs)(a.f,{paddingX:4,paddingY:4,flex:"grow",children:[Object(l.jsx)(a.f,{marginBottom:3,children:Object(l.jsx)(a.ab,{children:g.a._("Oh no! You're no longer logged into","Full sentence: \"Oh no! You're no longer logged into <user's account>\". Text telling user that they are no longer logged into an account after trying to switch to it","Full sentence: \"Oh no! You're no longer logged into <user's account>\". Text telling user that they are no longer logged into an account after trying to switch to it")})}),Object(l.jsx)(Ne,{viewerId:u.id,account:i}),Object(l.jsx)(a.f,{marginTop:4,children:Object(l.jsx)(a.g,{text:g.a._("Log in again","Text on button allowing user to log into an account after failing to switch to that account","Text on button allowing user to log into an account after failing to switch to that account"),color:"red",onClick:this.handleReauthAccount})}),Object(l.jsx)(a.f,{marginTop:3,children:Object(l.jsx)(a.g,{text:g.a._("Remove account","Text on button allowing user to remove an account from their account switcher after failing to switch to it","Text on button allowing user to remove an account from their account switcher after failing to switch to it"),onClick:()=>this.handleRemoveUnauthAccount(i.id)})})]}):Object(l.jsxs)(a.f,{children:[o&&this.renderLoadingIndicator(),Object(l.jsxs)(a.f,{children:[Object(l.jsxs)(a.f,{alignItems:"center",direction:"row",display:"flex",marginTop:1,padding:4,position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:1}},children:[Object(l.jsx)(a.f,{marginEnd:4,children:Object(l.jsx)(ze.a,{href:`/${u.username}/`,onHistoryChange:We.e,children:({handleClick:e})=>Object(l.jsx)(a.Z,{role:"link",href:`/${u.username}/`,onTap:({event:t,disableOnNavigation:n})=>{n(),this.trackProfileNavigateClick("avatar"),e({event:t})},children:Object(l.jsx)(Ae.a,{name:u.fullName||u.username,size:"lg",src:b?u.imageLargeUrl:""})})})}),Object(l.jsxs)(a.f,{flex:"grow",children:[Object(l.jsxs)(a.f,{marginBottom:2,children:[Object(l.jsx)(a.ab,{color:"darkGray",truncate:!0,weight:"bold",children:u.fullName||u.username}),u.email&&Object(l.jsx)(a.ab,{color:"darkGray",truncate:!0,children:u.email})]}),n.partner?this.renderBusinessButtons(u.username):this.renderPinnerButtons(u.username)]})]}),c?Object(l.jsx)(Pe,{accounts:c,onClick:this.handleLinkedAccountSwitch}):null,Object(l.jsx)(a.p,{}),null!==(e=n.partner)&&void 0!==e&&e.is_linked_business?null:Object(l.jsx)(a.f,{children:Object(l.jsx)("ul",{children:this.renderAccounts(s)})})]}),d<He.a&&!(null!==(t=n.partner)&&void 0!==t&&t.is_linked_business)&&Object(l.jsx)(a.f,{paddingX:4,paddingY:3,children:Object(l.jsx)(a.g,{text:g.a._("Add account","Short text on the button that allows a user to log in to another Pinterest account","Short text on the button that allows a user to log in to another Pinterest account"),onClick:()=>this.handleAddAccount()})})]})]})}}function Ye(e){const t=Object($.a)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.authViewer.id}});return Object(l.jsx)($e,{...e,businessUserResource:t})}function Ke({authViewer:e,customTaglineText:t,hideAccountSwitchValueProp:n,onDismiss:o,showAddAccount:r}){const[s,c]=Object(i.useState)(Boolean(r)),d=Object($.a)({name:"UserResource",options:{username:e.username,field_set_key:"linked_partner"}});Object(i.useEffect)(()=>{Object(He.g)(e,d.data)},[]);return s?Object(l.jsx)(Re.a,{container:Fe.c,onClose:r?o:()=>c(!1),customTaglineText:t,hideAccountSwitchValueProp:n}):Object(l.jsx)(a.f,{position:"relative",children:Object(l.jsx)(_e.b,{accessibilityModalLabel:g.a._("View, add, and switch logged in users","modal which allows user to add and switch multiple accounts","modal which allows user to add and switch multiple accounts"),size:"sm",heading:g.a._("Switch accounts","Short title on modal that allows a user to switch between different Pinterest accounts","Short title on modal that allows a user to switch between different Pinterest accounts"),onDismiss:o,children:Object(l.jsx)(Ye,{authViewer:e,container:Fe.c,onNavigateButtonClick:()=>o(),showLogin:()=>c(!0)})})})}var qe=n("yaUg"),Je=n("ihsa"),Ze=n("V08O");const Qe={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",purple:"#B469EB"},et="DelightfulBubbles__",tt=["DelightfulBubbles__fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n","DelightfulBubbles__growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n","DelightfulBubbles__swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n",...Object.keys(Qe).map(e=>{const t=((e,t)=>{const n=e.length,i=e.indexOf(t)+1>=n?0:e.indexOf(t)+1;return e[i]})(Object.keys(Qe),e);return`${et}colorChange_${e} {\n      0% {\n        background-color: ${Qe[e]};\n      }\n      50% {\n        background-color: ${Qe[t]};\n      }\n    }\n    `})],nt=Object(Ze.a)(tt);function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ot=e=>{const{delay:t,diameter:n,height:i,initialColor:o,width:r,xOffset:s,yOffset:c}=e,d=((e,t,n,i,o,r,a,s)=>({bubblePositionStyles:{position:"absolute",marginLeft:r/2-o+"px",marginTop:n/2-o+"px",left:a+"px",top:s+"px"},bubbleSwirlStyles:{animation:`${et}swirl 6s ease-in-out ${e}s infinite forwards`,WebkitAnimation:`${et}swirl 6s ease-in-out ${e}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${et}growShrink 6s ease-in-out ${e}s infinite alternate`,WebkitAnimation:`${et}growShrink 6s ease-in-out ${e}s infinite alternate`},bubbleShapeStyles:{height:t+"px",width:t+"px",borderRadius:"50%",backgroundColor:Qe[i],opacity:0,animation:`${et}colorChange_${i} 12s steps(1, start) ${e}s infinite forwards,\n      ${et}fadeIn 3s linear ${e}s 1 forwards`,WebkitAnimation:`${et}colorChange_${i} 12s steps(1, start) ${e}s infinite forwards,\n      ${et}fadeIn 3s linear ${e}s 1 forwards`}}))(t,n,i,o,Math.floor(n/2),r,s,c);return Object(l.jsx)(a.f,{dangerouslySetInlineStyle:{__style:d.bubblePositionStyles},children:Object(l.jsx)(a.f,{dangerouslySetInlineStyle:{__style:d.bubbleSwirlStyles},children:Object(l.jsx)(a.f,{dangerouslySetInlineStyle:{__style:d.bubbleGrowShrinkStyles},children:Object(l.jsx)(a.f,{dangerouslySetInlineStyle:{__style:d.bubbleShapeStyles}})})})})};class rt extends i.Component{constructor(...e){super(...e),it(this,"state",{isInitialized:!1})}componentDidMount(){this.requestAnimationFrameId=window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}shouldComponentUpdate(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){const{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){const{bubbleSize:n,delayFactor:i,delayOffset:o,numBubbles:r,xRadiusAdjustment:a,yRadiusAdjustment:s}=this.props,c=e+2*s,d=t+2*a,u=[],b=Object.keys(Qe);for(let g=0;g<r;g+=1){const r=n+Object(Ze.c)(-4,4),a=b[g%b.length],{x:s,y:h}=Object(Ze.b)(c,d);u.push(Object(l.jsx)(ot,{delay:g*i+o,diameter:r,initialColor:a,xOffset:s,yOffset:h,height:e,width:t},g))}return u}render(){const{height:e,width:t}=this.getSize();return Object(l.jsxs)(a.f,{height:e,width:t,position:"relative",children:[Object(l.jsx)(Je.a,{unsafeCSS:nt}),Object(l.jsxs)(a.f,{ref:e=>this.containerElement=e,children:[this.state.isInitialized&&this.createBubbles(e||0,t||0),Object(l.jsx)(a.f,{position:"relative",children:this.props.children})]})]})}}it(rt,"defaultProps",{bubbleSize:16,numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});var at=rt,st=n("/lhQ"),ct=n("EC51"),lt=n("J2m7"),dt=n.n(lt);function ut({onClick:e,size:t,view:n,viewParameter:o}){const r=Object(A.a)().locale||"",{locale:s}=Object(le.d)(),c=r||s||y.c,{isLoaded:d,data:u}=Object($.a)({name:"LocalesResource"}),b=Object(i.useMemo)(()=>{var e;return null===(e=dt()(u,{key:c}))||void 0===e?void 0:e.name},[c,u]);Object(i.useEffect)(()=>{Object(x.b)(13,{element:240,view:n,viewParameter:o})},[n,o]);return d?Object(l.jsx)(a.Z,{fullWidth:!1,onTap:()=>{Object(x.b)(101,{element:240,view:n,viewParameter:o}),e()},children:Object(l.jsxs)(a.f,{alignItems:"center",display:"flex",justifyContent:"center",children:[Object(l.jsx)(a.v,{accessibilityLabel:"",color:"darkGray",icon:"globe",size:"md"===t?14:12}),Object(l.jsx)(a.f,{paddingX:1,children:Object(l.jsx)(a.ab,{size:t,weight:"bold",children:b})}),Object(l.jsx)(a.v,{accessibilityLabel:"",color:"darkGray",icon:"arrow-forward",size:"md"===t?12:10})]})}):null}var bt=n("28DW"),gt=n("0S8y");const ht="NUX_WELCOME_NAME_STEP_STATUS";function ft({activateLocaleCountryAsModuleExp:e,incrementNuxStep:t,toggleLocalizationModal:n}){const r=Object(A.a)(),s=r.firstName||"",[c,d]=Object(i.useState)(""),[u,b]=Object(i.useState)(s),[h,f]=Object(i.useState)(!1),[m,p]=Object(i.useState)(!1),[_,w]=Object(i.useState)(!1),[S,v]=Object(i.useState)(!1),E=r.isAuth?r.email:"",T=Object(o.useDispatch)();Object(i.useEffect)(()=>{T(Object(j.a)("welcome")),T(Object(O.a)(ht,y.f)),Object(x.b)(13,{view:24,viewParameter:259})},[]),Object(i.useEffect)(()=>{d(_?g.a._("And your name is...?","nux.welcomeStep.noNameError","Error flyout when user doesn't input name"):S?g.a._("Hmm, that's too long. Try a nickname instead?","nux.welcomeStep.nameLengthError","Name exceeds 30 character maximum error"):"")},[_,S]),Object(i.useEffect)(()=>{w(!u||Object(st.a)(u)),v(!!u&&u.length>30)},[u]);const I=()=>{p(S||_||!m),Object(x.b)(101,{element:136,view:24,viewParameter:259})},k=g.a._("Welcome to Pinterest","nux.welcomeStep.welcomeHeader","greeting on welcome name step"),L=Object(qe.a)(g.a._("{{ titleText }} {{ name }}!","nux.welcomeStep.greetingHeader","Greeting with inferred name."),{titleText:k,name:u}).replace(",",""),C=L.indexOf(u)-1,N=g.a._("Your answers to the next few questions will help us find the right ideas for you","nux.welcomeStep.subheader","header on nux welcome and name editing step"),R=N.indexOf(" ",Math.round(N.length/2));return r.isAuth?Object(l.jsxs)(i.Fragment,{children:[h&&Object(l.jsx)(Ke,{authViewer:r,customTaglineText:g.a._("Log in","nux.welcomeStep.loginTitle","Title on modal for users to log in to an existing account after they accidentally created a new account"),hideAccountSwitchValueProp:!0,onDismiss:()=>f(!1),showAddAccount:!0}),Object(l.jsxs)(a.f,{direction:"column",display:"flex",height:"100%",minWidth:"100%",padding:8,children:[Object(l.jsxs)(a.f,{alignItems:"center",direction:"column",display:"flex",flex:"shrink",justifyContent:"start",width:"100%",children:[Object(l.jsx)(at,{delayOffset:-5,xRadiusAdjustment:40,children:Object(l.jsx)(a.f,{height:120,width:120,children:Object(l.jsx)(Ae.a,{name:u})})}),Object(l.jsx)(a.f,{alignItems:"center",marginTop:e().anyEnabled?5:6,width:"100%",children:Object(l.jsx)(a.ab,{align:"center",size:"lg",truncate:!0,children:E})}),Object(l.jsx)(a.f,{alignItems:"end",display:"flex",marginTop:2,width:"100%",children:Object(l.jsxs)(a.f,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},direction:"column",display:"flex",overflow:"hidden",width:"100%",children:[Object(l.jsx)(a.y,{htmlFor:"name",children:Object(l.jsx)(a.f,{marginEnd:-1,marginStart:-1,marginTop:e().anyEnabled?2:4,children:m?Object(l.jsx)(a.u,{align:"center",size:"md",children:k}):Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(a.u,{align:"center",size:"md",children:L.substring(0,C)}),Object(l.jsxs)(a.f,{alignItems:"center",display:"flex",height:44,justifyContent:"center",marginTop:4,paddingY:1,children:[Object(l.jsx)(a.f,{maxWidth:"calc(100% - 80px)",marginStart:10,children:Object(l.jsx)(a.u,{align:"center",size:"md",truncate:!0,children:L.substring(C+1)})}),Object(l.jsx)(a.f,{"data-test-id":"nux-edit-name-btn",paddingX:1,children:Object(l.jsx)(a.w,{accessibilityLabel:g.a._("Edit Name","nux.welcomeStep.editButton","Botton that allows editing the user's name"),bgColor:"transparent",icon:"edit",iconColor:"darkGray",onClick:I,size:"sm"})})]})]})})}),m&&Object(l.jsxs)(a.f,{alignItems:"start","data-test-id":"nux-edit-name-input",display:"flex",justifyContent:"center",marginTop:1,paddingY:1,children:[Object(l.jsx)(a.f,{width:"69%",children:Object(l.jsx)(a.cb,{errorMessage:c,id:"name",onChange:({value:e})=>b(e||""),placeholder:g.a._("name","nux.welcomeStep.namePlaceholder"),size:"lg",type:"text",value:u})}),Object(l.jsx)(a.f,{"data-test-id":"nux-update-name-btn",marginStart:2,children:Object(l.jsx)(a.g,{accessibilityLabel:g.a._("Submit","nux.welcomeStep.submitButton","Button that stores the name of the updated user"),color:"gray",inline:!0,onClick:I,size:"lg",text:g.a._("Submit","nux.welcomeStep.submitButton","Button that stores the name of the updated user")})})]})]})}),Object(l.jsx)(a.f,{marginTop:c?0:6,width:"100%",children:N.length>120?Object(l.jsx)(a.ab,{align:"center",children:N}):Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(a.ab,{align:"center",children:N.substring(0,R)}),Object(l.jsx)(a.ab,{align:"center",children:N.substring(R)})]})})]}),Object(l.jsx)(a.f,{"data-test-id":"nux_name_done_btn",marginTop:e().anyEnabled?5:8,children:Object(l.jsx)(a.g,{accessibilityLabel:g.a._("Next","nux.welcomeStep.nextButton","go to next nux step"),color:"red",disabled:!!c,onClick:()=>{const e=Object(gt.a)(u);T(Object(O.e)({updateUserData:e})).then(()=>{T(Object(O.a)(ht,y.a)),Object(x.b)(101,{element:96,view:24,viewParameter:259,did_edit_name:s!==u}),Object(x.b)(8900,{view:24,viewParameter:259}),t()})},size:"lg",text:g.a._("Next","nux.welcomeStep.nextButton","next nux step button"),type:"button"})}),Object(l.jsxs)(a.f,{marginBottom:5,marginTop:5,children:[Object(l.jsxs)(a.Z,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),Object(bt.a)("web.nux.click_login"),f(!0)},children:[Object(l.jsx)(a.ab,{align:"center",size:"sm",children:g.a._("Already have a Pinterest account?","nux.welcomeStep.loginSubtitle","subtitle to ask users who create a new account if they meant to log in to an existing account")}),Object(l.jsx)(a.ab,{align:"center",size:"sm",weight:"bold",children:Object(l.jsx)(ct.a,{href:"#",children:g.a._("Log in instead","nux.welcomeStep.loginLink","Link allowing users who just created a new account the option to log in instead into an existing account")})})]}),e().anyEnabled&&Object(l.jsx)(a.f,{marginTop:2,children:Object(l.jsx)(ut,{onClick:n,size:e().group.startsWith("enabled_md")?"md":"sm",view:24,viewParameter:259})})]})]})]}):null}var mt=n("EC67");function pt({activateLocaleCountryAsModuleExp:e,handleComplete:t,handleDismiss:n,hideFollowedInterests:r,isLandingPage:a,isRenux:s,isSimpleRenux:c,steps:d}){const[u,b]=Object(i.useState)([]),[g,h]=Object(i.useState)(!1),[f,m]=Object(i.useState)(!1),[p,_]=Object(i.useState)(()=>{let e=0;if(!s)for(;e<d.length&&d[e].isCompleted;)e+=1;return e}),j=Object(o.useDispatch)(),w=Object(mt.h)(),y=()=>m(!f),S=()=>e?e():{},E=s?213:24;Object(i.useEffect)(()=>{Object(x.b)(4104,{view:E,viewParameter:170})},[s,E]);const T=Object(i.useCallback)(()=>({NuxWelcomeNameStep:259,NuxGenderStep:3120,NuxLocaleCountryStep:3139,NuxPicker:172}[d[p].moduleName]),[p,d]),I=()=>{const e=p+1;e>=d.length?(s||j(Object(O.c)(!0)),Object(x.b)(4105,{view:E,viewParameter:171}),t(),a&&w.push({pathname:"/",state:{completedNux:!0}})):_(e)},L={NuxWelcomeNameStep:ft,NuxGenderStep:B,NuxLocaleCountryStep:ue,NuxPicker:ae,NuxExtensionUpsell:k,NuxQrCodeAppInstall:Ce,NuxEducationLoader:v},C=e=>"NuxEducationLoader"===e.moduleName,A=d.filter(e=>!C(e)),N=C(d[p])||a,R=s?!N&&!c&&p>0:!N&&!c&&p>1;return Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(ye,{currentIndex:p,hideDots:s||c||N,isLoading:g,numSteps:A.length,onClose:N||!s&&!c?void 0:n,onPrevStepClick:R?()=>{const e=T();e&&Object(x.b)(101,{component:17,element:34,view:E,viewParameter:e}),_(p-1)}:void 0,stepName:d[p].moduleName,children:(()=>{const e=d[p].moduleName,t=L[e];return Object(l.jsx)(t,{activateLocaleCountryAsModuleExp:S,hideFollowedInterests:r,incrementNuxStep:I,isRenux:s,isSimpleRenux:c,selectedInterests:u,setSelectedInterests:b,toggleLoadingIndicator:e=>h(e),toggleLocalizationModal:y,isLastStep:p===A.length-1})})()}),f&&S().anyEnabled&&Object(l.jsx)(fe,{onDismiss:y,toggleLoadingIndicator:e=>h(e),view:E,viewParameter:T()})]})}},xGpI:function(e,t,n){var i=n("ipvL");t.a=()=>i.a.getAccountsJSON()},yM2L:function(e,t,n){n.r(t),n.d(t,"exchangeTokenAndSetSession",(function(){return d})),n.d(t,"verifyLoggedInStatus",(function(){return u})),n.d(t,"registerUser",(function(){return b})),n.d(t,"loginUser",(function(){return g}));var i=n("T0g9"),o=n("eOdZ"),r=n("kmwA"),a=n("28DW"),s=n("J8m7");const c=r.a.settings.ACCOUNTS_PINTEREST_URL,l=(e,t,n,i)=>{const o=e=>{const t=new Error(e.statusText);throw t.response=e,!t.api_error_code&&t.response&&(t.api_error_code=t.response.code,t.message=t.response.message),t},r={credentials:"include",mode:"cors"};return"POST"===n&&(r.method="POST",r.body=t,r.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":i},i||Object(a.a)("unauth.auth_handshake.cross_domain.no_unauth_id."+n)),fetch(e,r).then(e=>200===e.status||401===e.status||409===e.status?e:(o(e),{})).then(e=>e.json()).then(e=>"success"===e.status?Promise.resolve(e):e.code===s.t?(e.api_error_code=e.code,Promise.reject(e)):(o(e),{})).catch(e=>{throw e})},d=(e,t=!1)=>o.a.create("HandshakeSessionResource",{token:e,isRegistration:t}).callCreate(),u=e=>{l(c+"/v3/handshake/verify/","","GET",e).then(e=>{if(e&&e.data){const t=e.data;d(t).then(e=>{window.location.reload()},e=>{})}},e=>{})},b=(e,{facebookToken:t,inviteCode:n,locale:o,referrer:a,unauthId:s})=>{const c=(e.business_name?"partner/handshake":(e.gplus_code||e.gplus_id_token)&&"gplus/handshake")||e.facebook_id&&"facebook/handshake"||"email/handshake",d={};if(d.email=e.email||"",d.username=e.username||"",d.password=e.password||"",d.first_name=e.first_name||"",d.last_name=e.last_name||"",d.country=e.country||"",d.locale=o,d.referrer=a,e.age){const t=new Date;t.setFullYear(t.getFullYear()-e.age);const n=parseInt(t/1e3,10);d.birthday=n.toString()}if(e.custom_gender&&(d.custom_gender=e.custom_gender),e.gender&&(d.gender=e.gender),e.business_name&&(d.account_type=e.account_type,d.business_name=e.business_name,d.first_name=e.business_name),n&&(d.invite_code=n),e.facebook_id){const n=t||e.facebook_token||"";d.facebook_id=e.facebook_id,d.facebook_token=n,d.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(d.password=e.password||"",d.one_time_code=e.gplus_code,d.id_token=e.gplus_id_token,d.redirect_uri=e.gplus_redirect_uri);return e.recaptchaV3Token&&(d.recaptcha_v3_token=e.recaptchaV3Token),l(`${r.a.settings.ACCOUNTS_PINTEREST_URL}/v3/register/${c}/`,Object(i.a)(d),"POST",s)},g=(e,{facebookToken:t,recaptchaV3Token:n,referrer:o,unauthId:a})=>{const s=(e.mfa_token?"mfa/handshake":e.gplus_id_token&&"gplus/handshake")||e.facebook_id&&"facebook/handshake"||"handshake",c={};if(e.username_or_email&&(c.username_or_email=e.username_or_email.trim(),c.password=e.password,c.referrer=o),e.facebook_id){const n=t||e.facebook_token||"";c.facebook_id=e.facebook_id,c.facebook_token=n,c.facebook_autologin=e.facebook_autologin||!1}return e.gplus_id_token&&(c.gplus_id_token=e.gplus_id_token,c.gplus_access_token=e.gplus_access_token,c.gplus_expires_at=e.gplus_expires_at,c.gplus_autologin=e.gplus_autologin||!1),e.mfa_token&&(c.mfa_token=e.mfa_token),n&&(c.token=n),l(`${r.a.settings.ACCOUNTS_PINTEREST_URL}/v3/login/${s}/`,Object(i.a)(c),"POST",a)}},zRck:function(e,t,n){n.d(t,"o",(function(){return i})),n.d(t,"p",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"n",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"i",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return _}));const i="MULTIPLE_ACCOUNTS",o="MULTIPLE_ACCOUNTS_GROUP",r="account_switcher_flyout",a="account_switcher_modal",s="vmp_account_switcher_modal",c="account_recovery",l="board_invite",d="closeup",u="flashlight_grid",b="google_one_tap_modal",g="inspired_banner",h="hybrid_clickthrough",f="hybrid_banner",m="pin_image",p="response_flyout",_="unauth_header"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/355-4fb0b9fbd2952d570948.mjs.map